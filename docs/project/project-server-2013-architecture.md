---
title: Архитектура Project Server
manager: soliver
ms.date: 05/17/2019
ms.audience: Developer
ms.assetid: 2cfa5a6e-2f5c-440c-b35a-bc7a34648f9c
description: Project Server 2013 интегрирует функции управления проектами в ферму SharePoint и позволяет использовать Microsoft Project Online с клиентской объектной моделью (CSOM) и интерфейсом OData для данных отчетов.
localization_priority: Priority
ms.openlocfilehash: fd940c9ae74e04587cdfa83354b6ee71da21073c
ms.sourcegitcommit: e2cff03cb13d6c500942897b234db00476a72f18
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2019
ms.locfileid: "34100897"
---
# <a name="project-server-architecture"></a><span data-ttu-id="3c9f0-103">Архитектура Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-103">Project Server architecture</span></span>

<span data-ttu-id="3c9f0-104">Project Server 2013 интегрирует функции управления проектами в ферму SharePoint и позволяет использовать Microsoft Project Online с клиентской объектной моделью (CSOM) и интерфейсом OData для данных отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-104">Project Server 2013 integrates project management functionality throughout a SharePoint farm and enables the use of Project Online with a client-side object model (CSOM) and an OData interface for the Reporting data.</span></span>
   
<span data-ttu-id="3c9f0-105">Project Server 2013 — это многоуровневая система, расширяющая архитектуру, представленную в Office Project Server 2007.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-105">Project Server 2013 is a multitiered system that extends the architecture introduced in Office Project Server 2007.</span></span> <span data-ttu-id="3c9f0-106">Изменения в архитектуре включают связь службы приложения Project Server с семействами веб-сайтов SharePoint, добавление нескольких бизнес-объектов в веб-интерфейс (WFE), клиентскую объектную модель (CSOM) для удаленного доступа, единую базу данных Project, интерфейс OData для таблиц и представлений отчетов, интеграцию Windows Workflow Foundation версии 4 (WF4) посредством Workflow Manager Client 1.0 в облако или локальный сервер, а также удаленные приемники событий, доступные из множества установок Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-106">Architectural changes include association of the Project Application Service with SharePoint site collections, the addition of some business objects on the web front-end (WFE), the client-side object model (CSOM) for remote access, a single Project database, an OData interface for the Reporting tables and views, integration of Windows Workflow Foundation version 4 (WF4) through Workflow Manager Client 1.0 in the cloud or on a local server, and remote event receivers that are accessible by multiple Project Server installations.</span></span> <span data-ttu-id="3c9f0-107">Помимо локальных пользовательских решений, можно создавать приложения, включающие удаленные приемники событий и компоненты, которые обращаются к интерфейсам CSOM и OData.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-107">In addition to on-premises custom solutions, you can create apps that include remote event receivers and components that access the CSOM and OData interfaces.</span></span>
  
<span data-ttu-id="3c9f0-108">Интерфейсный уровень включает Project профессиональный 2013, Project Web App и сторонние приложения.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-108">The front-end tier includes Project Professional 2013, Project Web App, and third-party apps.</span></span> <span data-ttu-id="3c9f0-109">Клиентские приложения взаимодействуют со средним уровнем через интерфейс Project Server (PSI) или через конечные точки CSOM, которые взаимодействуют с PSI и уровнем бизнес-объектов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-109">Client applications communicate with the middle tier through the Project Server Interface (PSI) or through the CSOM endpoints, which in turn communicate with the PSI and the business object layer.</span></span> <span data-ttu-id="3c9f0-110">Доступ к базе данных интегрирован в бизнес-объекты.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-110">Database access is integrated in the business objects.</span></span> <span data-ttu-id="3c9f0-111">Система обработки событий Project Server имеет доступ как к локальным обработчикам событий, так и к удаленным приемникам событий.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-111">The Project Server Eventing System can access both local event handlers and remote event receivers.</span></span> <span data-ttu-id="3c9f0-112">Служба вычислений Project обеспечивает работу механизма планирования Project профессиональный на сервере Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-112">The Project Calculation Service implements the Project Professional scheduling engine within Project Server.</span></span> <span data-ttu-id="3c9f0-113">Клиентские приложения не обращаются (или не должны обращаться) непосредственно к базе данных Project; Project Server скрывает бизнес-объекты от клиентов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-113">Client applications do not (or should not) directly access the Project database; Project Server hides business objects from clients.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-114">Компонент Project Server встроен в архитектуру SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-114">Project Server is built on the SharePoint architecture.</span></span> <span data-ttu-id="3c9f0-115">Дополнительные сведения об архитектуре SharePoint Server 2013 и модели приложений SharePoint см. в разделе *Приступая к разработке в SharePoint* документации разработчика Office 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-115">For information about SharePoint Server 2013 architecture and the SharePoint app model, see the  *Getting started with SharePoint development*  section in the Office 2013 developer documentation.</span></span> 

<span data-ttu-id="3c9f0-116"><a name="pj15_Architecture_SharePoint"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-116"><a name="pj15_Architecture_SharePoint"> </a></span></span>

## <a name="integrating-with-sharepoint-site-collections"></a><span data-ttu-id="3c9f0-117">Интеграция с семействами веб-сайтов SharePoint</span><span class="sxs-lookup"><span data-stu-id="3c9f0-117">Integrating with SharePoint site collections</span></span>

<span data-ttu-id="3c9f0-118">Службу приложения Project Server в Project Server 2013 можно связать с семейством веб-сайтов SharePoint, чтобы получить возможность работать со списками задач SharePoint. Эта служба также может импортировать списки задач SharePoint в виде корпоративного проекта для полного доступа к Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-118">The Project Application Service in Project Server 2013 can be associated with a SharePoint site collection for use with SharePoint tasks lists, The Project Application Service can also import a SharePoint tasks list as an enterprise project for full Project Server control.</span></span> <span data-ttu-id="3c9f0-119">С помощью списка задач SharePoint компонент SharePoint обслуживает сайт проекта в семействе веб-сайтов. Project профессиональный может синхронизироваться с этим списком задач и обновлять его.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-119">With a SharePoint tasks list, SharePoint maintains the project site in a site collection; Project Professional can synchronize with and update the tasks list.</span></span> <span data-ttu-id="3c9f0-120">Сайт проекта может представлять собой независимый список задач SharePoint или список задач, который синхронизирован с MPP-файлом. MPP-файл может храниться локально или в библиотеке SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-120">A project site can be an independent SharePoint tasks list or a tasks list that is synchronized with an .mpp file; the .mpp file can be stored locally or in a SharePoint library.</span></span> 
  
<span data-ttu-id="3c9f0-121">При наличии полного доступа Project Server обслуживает проекты. Project профессиональный сохраняет данные непосредственно в Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-121">Project Server maintains the projects when it has full control; Project Professional saves data directly to Project Server.</span></span> <span data-ttu-id="3c9f0-122">В таблице 1 сравнивается поведение списка задач, веб-части расписания и других функций для управления списками задач SharePoint и для импортированных проектов при наличии у Project Server полного доступа.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-122">Table 1 compares the behavior of a tasks list, the Schedule web part, and other functionality for SharePoint control of tasks lists and for imported projects when Project Server has full control.</span></span> <span data-ttu-id="3c9f0-123">Веб-часть расписания содержит таблицу на странице Project Web App, в которой вы можете изменить расписание проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-123">The Schedule web part contains the grid on the Project Web App page where you can edit a project schedule.</span></span> <span data-ttu-id="3c9f0-124">В связанном режиме данные о состоянии указываются сразу и для задач, и для расписаний. В режиме одной операции данные о состоянии задач указываются отдельно от данных о состоянии расписаний.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-124">The tied mode is where statusing data is entered once for both tasks and timesheets; in single entry mode, task statusing data is entered separately from timesheets.</span></span>
  
<span data-ttu-id="3c9f0-125">**Таблица 1. Сравнение списков задач SharePoint и уровня доступа**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-125">**Table 1. Comparison of SharePoint task lists and full control**</span></span>

| <span data-ttu-id="3c9f0-126">Функция</span><span class="sxs-lookup"><span data-stu-id="3c9f0-126">Feature</span></span> | <span data-ttu-id="3c9f0-127">Список задач</span><span class="sxs-lookup"><span data-stu-id="3c9f0-127">Task list</span></span> | <span data-ttu-id="3c9f0-128">Уровень доступа</span><span class="sxs-lookup"><span data-stu-id="3c9f0-128">Full-control</span></span> |
|:-----|:-----|:-----|
|<span data-ttu-id="3c9f0-129">**Список задач в SharePoint**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-129">**Task list in SharePoint**</span></span> <br/> |<span data-ttu-id="3c9f0-130">Чтение и запись</span><span class="sxs-lookup"><span data-stu-id="3c9f0-130">Read/write</span></span>  <br/> |<span data-ttu-id="3c9f0-131">Только чтение</span><span class="sxs-lookup"><span data-stu-id="3c9f0-131">Read-only</span></span>  <br/> |
|<span data-ttu-id="3c9f0-132">**Веб-часть расписания**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-132">**Schedule web part**</span></span> <br/> |<span data-ttu-id="3c9f0-133">Только чтение</span><span class="sxs-lookup"><span data-stu-id="3c9f0-133">Read-only</span></span>  <br/> |<span data-ttu-id="3c9f0-134">Чтение и запись</span><span class="sxs-lookup"><span data-stu-id="3c9f0-134">Read/write</span></span>  <br/> |
|<span data-ttu-id="3c9f0-135">**Создание отчетов**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-135">**Reporting**</span></span> <br/> |<span data-ttu-id="3c9f0-136">Создание подробных отчетов в Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-136">Rich reporting through Project Server</span></span>  <br/> |<span data-ttu-id="3c9f0-137">Создание подробных отчетов в Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-137">Rich reporting through Project Server</span></span>  <br/> |
|<span data-ttu-id="3c9f0-138">**Другие функции Project Server**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-138">**Other Project Server functionality**</span></span> <br/> | <span data-ttu-id="3c9f0-139">Заблокированные функции:</span><span class="sxs-lookup"><span data-stu-id="3c9f0-139">Blocked functionality:</span></span>  <br/><span data-ttu-id="3c9f0-140">- Редактирование проекта на стороне сервера в Project Web App или других клиентских приложениях.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-140">- Server-side project edits, with Project Web App or custom client applications</span></span>  <br/><span data-ttu-id="3c9f0-141">- Определение состояния.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-141">- Statusing</span></span>  <br/><span data-ttu-id="3c9f0-142">- Задачи не видны в связанном режиме.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-142">- Tasks are not visible in tied mode</span></span>  <br/> |<span data-ttu-id="3c9f0-143">Доступны все функции</span><span class="sxs-lookup"><span data-stu-id="3c9f0-143">Full functionality is enabled</span></span>  <br/> |
   
### <a name="managing-projects-as-sharepoint-task-lists"></a><span data-ttu-id="3c9f0-144">Управление проектами как списками задач SharePoint</span><span class="sxs-lookup"><span data-stu-id="3c9f0-144">Managing projects as SharePoint task lists</span></span>
<span data-ttu-id="3c9f0-145"><a name="pj15_Architecture_VisibilityMode"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-145"><a name="pj15_Architecture_VisibilityMode"> </a></span></span>

<span data-ttu-id="3c9f0-146">Когда Project Server связан с семейством веб-сайтов SharePoint, где SharePoint обеспечивает управление, списки задач и файлы Project профессиональный 2013 (.mpp) в библиотеках документов видимы для службы приложений Project Server, но основные данные для синхронизации обслуживает SharePoint (см. рис. 1).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-146">When Project Server is associated with a SharePoint site collection where SharePoint maintains control, task lists and Project Professional 2013 (.mpp) files in document libraries are visible to the Project Application Service, but SharePoint maintains the master data for synchronization (see Figure 1).</span></span> <span data-ttu-id="3c9f0-147">Составление расписания на стороне сервера с помощью веб-части расписания не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-147">Server-side scheduling with the Schedule web part cannot be done.</span></span> <span data-ttu-id="3c9f0-148">С помощью Project профессиональный можно выполнить синхронизацию со списком задач и отредактировать этот список на сайте проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-148">You can use Project Professional to synchronize with and edit the task list in a project site.</span></span> <span data-ttu-id="3c9f0-149">Начав работу со списками задач SharePoint, организации могут постепенно развиваться и использовать все возможности Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-149">By starting with SharePoint task lists, organizations can gradually evolve to use the full functionality of Project Server.</span></span>
  
<span data-ttu-id="3c9f0-150">На рис. 1 представлены следующие процессы при сохранении проектов в списке задач SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-150">Figure 1 shows the following processes when projects are maintained in SharePoint task lists:</span></span> 
  
- <span data-ttu-id="3c9f0-151">(А) Project Professional может выполнять синхронизацию со списками задач и создавать новые сайты проектов в семействе сайтов до или после связывания с приложением-службой Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-151">(A) Project Professional can synchronize with task lists and create new project sites in the site collection either before or after association with the Project Application Service.</span></span>
    
- <span data-ttu-id="3c9f0-152">(Б) Project Server выполняет синхронизацию с данными сайта проекта для создания отчетов, однако основные данные обслуживаются SharePoint; к спискам задач предоставляется доступ на чтение и запись.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-152">(B) Project Server synchronizes with project site data for reporting purposes, but SharePoint maintains the master data; task lists remain read/write.</span></span>
    
- <span data-ttu-id="3c9f0-p107">(В) После связывания Project Professional может создавать новые проекты и сохранять их или публиковать в Project Server. Активный кэш в Project Professional обслуживает синхронизацию данных с Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p107">(C) After association, Project Professional can create new projects and save or publish to Project Server. The Active Cache in Project Professional maintains data synchronization with Project Server.</span></span>
    
- <span data-ttu-id="3c9f0-155">(D) При публикации нового проекта в Project профессиональный пользователь может создать для него сайт проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-155">(D) When a new project is published in Project Professional, the user has the option of creating a project site for the project.</span></span> <span data-ttu-id="3c9f0-156">Проект также можно создать в Project Web App как тип проекта списка задач SharePoint или тип корпоративного проекта (EPT) с полным доступом.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-156">A project can also be created in Project Web App as a SharePoint task list project type or as a full-control enterprise project type (EPT).</span></span> <span data-ttu-id="3c9f0-157">Шаг (D) показывает тип корпоративного проекта с полным доступом.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-157">Step (D) shows the full-control EPT.</span></span>
    
<span data-ttu-id="3c9f0-158">**Рисунок 1. Использование сайтов проектов в качестве списков задач SharePoint**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-158">**Figure 1. Using project sites as SharePoint task lists**</span></span>

<span data-ttu-id="3c9f0-159">![Использование сайтов проектов в режиме видимости](media/pj15_Architecture_VisibilityMode.gif "Использование сайтов проектов в режиме видимости")</span><span class="sxs-lookup"><span data-stu-id="3c9f0-159">![Using project sites in visibility mode](media/pj15_Architecture_VisibilityMode.gif "Using project sites in visibility mode")</span></span>

<br/>

### <a name="managing-projects-with-full-control"></a><span data-ttu-id="3c9f0-160">Управление проектами с полным доступом</span><span class="sxs-lookup"><span data-stu-id="3c9f0-160">Managing projects with full control</span></span>
<span data-ttu-id="3c9f0-161"><a name="pj15_Architecture_ManagedMode"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-161"><a name="pj15_Architecture_ManagedMode"> </a></span></span>

<span data-ttu-id="3c9f0-162">Когда Project Server связан с семейством веб-сайтов и имеет полный доступ, он импортирует списки задач SharePoint как корпоративные проекты и может удалять любые связанные MPP-файлы.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-162">When Project Server is associated with a site collection and has full control, Project Server imports SharePoint task lists as enterprise projects, and can delete any related .mpp files.</span></span> <span data-ttu-id="3c9f0-163">Project Server обслуживает основные данные для синхронизации списков задач. Списки задач в семействе веб-сайтов становятся доступны только для чтения (см. рис. 2).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-163">Project Server maintains the master data for task list synchronization; task lists in the site collection become read-only (see Figure 2).</span></span> <span data-ttu-id="3c9f0-164">Импортированные проекты можно редактировать с помощью Project профессиональный или Project Web App.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-164">Imported projects can be edited by using Project Professional or by using Project Web App.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-p110">После того как Project Server импортирует проект, пользователь выбирает, требуется ли удалить проект с сайта или разорвать связь, прежде чем приступить к его редактированию. Этот выбор можно сделать в Project Professional.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p110">After Project Server imports a project, the user chooses whether to delete the project from the site or break the connection before editing the project. You can make the choice in Project Professional.</span></span> 
  
<span data-ttu-id="3c9f0-167">На рис. 2 приведены следующие процессы при обслуживании корпоративных проектов Project Server с уровнем полного доступа.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-167">Figure 2 shows the following processes when Project Server maintains enterprise projects with full control:</span></span>
  
- <span data-ttu-id="3c9f0-p111">(А) Пользователь может выбрать конкретные сайты проектов для импорта. Project Server импортирует сайты проектов и при необходимости удаляет связанные MPP-файлы. Список задач SharePoint, состоящий из импортированных проектов, становится доступным только для чтения.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p111">(A) The user can choose which project sites to import. Project Server imports the project sites, and optionally deletes associated .mpp files. The SharePoint task list of an imported project becomes read-only.</span></span>
    
- <span data-ttu-id="3c9f0-171">(B) После связывания Project профессиональный создает новые проекты и сохраняет или публикует их на Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-171">(B) After association, Project Professional creates new projects and saves or publishes to Project Server.</span></span> <span data-ttu-id="3c9f0-172">Активный кэш в Project профессиональный обеспечивает синхронизацию данных с Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-172">The Active Cache in Project Professional maintains data synchronization with Project Server.</span></span> <span data-ttu-id="3c9f0-173">Веб-часть расписания в Project Web App может выполнять планирование на стороне сервера.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-173">The Schedule web part in Project Web App can do server-side scheduling.</span></span>
    
- <span data-ttu-id="3c9f0-174">(C) При публикации нового проекта в Project профессиональный пользователь может создать сайт проекта для этого проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-174">(C) When a new project is published in Project Professional, the user has the option of creating a project site for the project.</span></span> <span data-ttu-id="3c9f0-175">Проект можно также создать в Project Web App как тип корпоративного проекта EPT с полным доступом и опубликовать как список задач, доступный только для чтения, на сайте проекта в семействе веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-175">A project can also be created in Project Web App with a full-control EPT and published with a read-only task list to a project site in the site collection.</span></span>
    
<span data-ttu-id="3c9f0-176">**Рисунок 2. Использование сайтов проектов с полным доступом**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-176">**Figure 2. Using project sites with full control**</span></span>

<span data-ttu-id="3c9f0-177">![Использование сайтов проектов в управляемом режиме](media/pj15_Architecture_ManagedMode.gif "Использование сайтов проектов в управляемом режиме")</span><span class="sxs-lookup"><span data-stu-id="3c9f0-177">![Using project sites in managed mode](media/pj15_Architecture_ManagedMode.gif "Using project sites in managed mode")</span></span>
  
## <a name="general-architecture"></a><span data-ttu-id="3c9f0-178">Общая архитектура</span><span class="sxs-lookup"><span data-stu-id="3c9f0-178">General architecture</span></span>
<span data-ttu-id="3c9f0-179"><a name="pj15_Architecture_General"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-179"><a name="pj15_Architecture_General"> </a></span></span>

<span data-ttu-id="3c9f0-180">На рис. 3 приведено общее представление архитектуры Project Server 2013, включая службу приложения Project Server, один экземпляр Project Web App в веб-интерфейсе и несколько других клиентских приложений, в том числе Project профессиональный 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-180">Figure 3 shows a generalized view of the Project Server 2013 architecture, including the Project Service Application, one Project Web App instance on a WFE, and several other client applications including Project Professional 2013.</span></span>
  
<span data-ttu-id="3c9f0-181">Экземпляров Project Web App, которые взаимодействуют с серверной службой приложения Project Server, может быть множество.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-181">There can be multiple Project Web App instances that communicate with the back-end Project Service Application.</span></span> <span data-ttu-id="3c9f0-182">Для локальной установки веб-интерфейс может находиться на отдельном сервере в ферме SharePoint либо на том же сервере SharePoint, где расположена служба приложения Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-182">For an on-premises installation, the WFE can be on a separate server in a SharePoint farm, or it can be on the same SharePoint server with the Project Service Application.</span></span> <span data-ttu-id="3c9f0-183">Microsoft Project Online содержит веб-интерфейс, службу приложения Project Server и локальный или удаленный сервер Workflow Manager Client 1.0.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-183">Project Online includes a WFE, the Project Service Application, and a local or remote Workflow Manager Client 1.0 server.</span></span> 
  
<span data-ttu-id="3c9f0-184">**Рисунок 3. Общая архитектура Project Server 2013**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-184">**Figure 3. General Project Server 2013 architecture**</span></span>

<span data-ttu-id="3c9f0-185">![Архитектура Project Server](media/pj15_Architecture_ProjectServiceApp_WFE.gif "Архитектура Project Server")</span><span class="sxs-lookup"><span data-stu-id="3c9f0-185">![Project Server architecture](media/pj15_Architecture_ProjectServiceApp_WFE.gif "Project Server architecture")</span></span>

<br/>

<span data-ttu-id="3c9f0-186">К рис. 3 применяются следующие примечания.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-186">The following general comments apply to Figure 3:</span></span>
  
- <span data-ttu-id="3c9f0-p115">**Project Online.** Вы можете создавать приложения, использующие интерфейсы CSOM, REST и OData. Пакет приложения также может устанавливать удаленные приемники событий в пользовательской веб-службе на локальном сервере, на сервере Azure или в Microsoft Azure. Project Online не поддерживает сторонние локальные решения, интерфейсы WCF и ASMX, а также локальные обработчики событий.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p115">**Project Online:** You can create apps that use the CSOM, REST, and OData interfaces. An app package can also install remote event receivers in a custom web service on a local server, on an Azure server, or on Microsoft Azure. Project Online does not support third-party on-premises solutions, the WCF interface, the ASMX interface, or local event handlers.</span></span> 
    
- <span data-ttu-id="3c9f0-p116">**Приемники событий.** Приемники событий также называют обработчиками событий. Project Online поддерживает регистрацию удаленных приемников событий Project Server, которые экземпляр Project Web App в облаке или локально установленный экземпляр Project Server могут использовать. Любой локально установленный экземпляр Project Server поддерживает удаленные приемники событий и локальные обработчики событий с полным доверием.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p116">**Event receivers:** Event receivers can also be called event handlers. Project Online supports registration of remote Project Server event receivers, which can be used by a Project Web App instance in the cloud or by an on-premises Project Server installation. An on-premises Project Server installation supports remote event receivers and local full-trust event handlers.</span></span> 
    
- <span data-ttu-id="3c9f0-193">**Браузеры.** Просмотр страниц Project Web App возможен в любом браузере (без ограничений, как в Project Server 2010).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-193">**Browsers:** There are no cross-browser limitations on viewing some Project Web App pages, as there are in Project Server 2010.</span></span> <span data-ttu-id="3c9f0-194">Следующие браузеры поддерживают работу с Project Web App в полном объеме:</span><span class="sxs-lookup"><span data-stu-id="3c9f0-194">The following browsers are supported for full use with Project Web App:</span></span> 
    
  - <span data-ttu-id="3c9f0-195">Internet Explorer 8.x (в Windows 7 и более ранних версиях Microsoft Windows), Internet Explorer 9.x и Internet Explorer 10.x;</span><span class="sxs-lookup"><span data-stu-id="3c9f0-195">Internet Explorer 8.x (on Windows 7 and earlier versions of Microsoft Windows), Internet Explorer 9.x, and Internet Explorer 10.x</span></span> 
  - <span data-ttu-id="3c9f0-196">Firefox 4.x (в Windows, Mac OS-X и Linux/Unix);</span><span class="sxs-lookup"><span data-stu-id="3c9f0-196">Firefox 4.x (on Windows, Mac OS-X, and Linux/Unix)</span></span>
  - <span data-ttu-id="3c9f0-197">Safari 5.x (в Windows и Mac OS-X);</span><span class="sxs-lookup"><span data-stu-id="3c9f0-197">Safari 5.x (on Windows and Mac OS-X)</span></span>
  - <span data-ttu-id="3c9f0-198">Chrome.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-198">Chrome</span></span>
    
- <span data-ttu-id="3c9f0-199">**Программные интерфейсы.** Microsoft Project Online предоставляет сторонним приложениям доступ к интерфейсу HTTP/HTTPS (включая REST), интерфейсу CSOM, службе OData для CSOM и службе OData для отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-199">**Programmatic interfaces:** For third-party apps, Project Online exposes the HTTP/HTTPS interface (including REST), the CSOM interface, an OData service for the CSOM, and an OData service for reporting.</span></span> <span data-ttu-id="3c9f0-200">В случае локальных клиентских приложений от сторонних разработчиков (в интрасети) можно использовать интерфейс WCF для PSI либо интерфейсы CSOM, OData и REST по протоколу HTTP.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-200">For third-party client applications that are on-premises (on the Intranet), you can use the WCF interface for the PSI, or you can use the CSOM, OData, and REST interfaces through HTTP.</span></span> <span data-ttu-id="3c9f0-201">Клиенты Project Web App и Project профессиональный 2013 используют интерфейс WCF.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-201">The Project Web App and Project Professional 2013 clients both use the WCF interface.</span></span> <span data-ttu-id="3c9f0-202">При установке на одном сервере внешние веб-службы ASMX, CSOM и REST совершают внутренние вызовы внутренних служб WCF.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-202">In a single-server installation, the front-end ASMX web services, CSOM, and REST internally call the back-end WCF services.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="3c9f0-203">Основанный на SOAP интерфейс ASMX для веб-служб в интерфейсе PSI по-прежнему доступен в Project Server 2013, однако использовать его не рекомендуется.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-203">The SOAP-based ASMX interface for web services in the PSI is still available in Project Server 2013, but is deprecated.</span></span> 
  
    <span data-ttu-id="3c9f0-p119">Службу OData для отчетов реализует внутренняя служба WCF OData.svc. Вы можете получить документ метаданных службы для данных отчетов с помощью  `https://ServerName/ProjectServerName/_api/ProjectData/$metadata`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p119">The OData service for reporting is implemented by the internal OData.svc WCF service. You can get the Service Metadata Document for the reporting data by using  `https://ServerName/ProjectServerName/_api/ProjectData/$metadata`.</span></span> 
    
    <span data-ttu-id="3c9f0-206">Служба OData для CSOM предназначена для таких платформ, как Windows RT, iOS и Android, где можно использовать интерфейс REST с JavaScript на HTML-страницах.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-206">The OData service for the CSOM is intended for platforms such as Windows RT, iOS, and Android, where you can use the REST interface with JavaScript in HTML pages.</span></span> 
    
    > [!NOTE]
    > <span data-ttu-id="3c9f0-207">Хотя параметр `$metadata` допустим для службы отчетов **ProjectData**, параметр `$metadata` для службы **ProjectServer** CSOM удален в выпущенной версии Project Server 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-207">Although the  `$metadata` option for the **ProjectData** reporting service is valid, the  `$metadata` option for the **ProjectServer** service of the CSOM is removed in the released version of Project Server 2013.</span></span> <span data-ttu-id="3c9f0-208">Дополнительные сведения о запросах REST см. в статье [Клиентская объектная модель (CSOM) для Project Server](client-side-object-model-csom-for-project-2013.md).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-208">For more information about REST queries for the CSOM, see [Client-side object model (CSOM) for Project Server](client-side-object-model-csom-for-project-2013.md).</span></span> 
  
- <span data-ttu-id="3c9f0-209">**Сервер пересылки PSI.** Программный доступ к PSI на отдельном веб-интерфейсе проходит через сервер пересылки PSI, включающий в себя сервер пересылки WCF и сервер пересылки веб-служб.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-209">**PSI Forwarder:** Programmatic access to the PSI on a separate WFE goes through the PSI Forwarder, which includes a WCF Forwarder and a Web Service Forwarder.</span></span> <span data-ttu-id="3c9f0-210">Клиенты, использующие интерфейс ASMX, получают доступ к PSI через сервер пересылки веб-служб.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-210">Clients that use the ASMX interface access the PSI through the Web Service Forwarder.</span></span> <span data-ttu-id="3c9f0-211">Клиенты, использующие интерфейс WCF, получают доступ к PSI через сервер пересылки WCF.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-211">Clients that use the WCF interface access the PSI through the WCF Forwarder.</span></span> <span data-ttu-id="3c9f0-212">Программный доступ через CSOM, OData и REST передается через сервер пересылки WCF.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-212">Programmatic access through the CSOM, OData, and REST is piped through the WCF Forwarder.</span></span> 
    
- <span data-ttu-id="3c9f0-213">**Рабочие процессы.** Декларативные рабочие процессы (рабочие процессы, которые определены в SharePoint Designer 2013) выгружаются Workflow Manager Client 1.0 для обработки.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-213">**Workflows:** Declarative workflows (workflows that are defined in SharePoint Designer 2013) are offloaded to Workflow Manager Client 1.0 for processing.</span></span> <span data-ttu-id="3c9f0-214">Workflow Manager Client 1.0 может выполняться на отдельном сервере в ферме SharePoint, на Microsoft Azure в облаке или на одном компьютере Project Server для тестирования или демонстраций.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-214">Workflow Manager Client 1.0 can run on a separate server in the SharePoint farm, on Microsoft Azure in the cloud, or on a single Project Server computer for testing or demonstrations.</span></span> <span data-ttu-id="3c9f0-215">Кодированные рабочие процессы, созданные в Visual Studio 2012, обрабатываются в среде выполнения рабочих процессов в SharePoint, как и в Project Server 2010.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-215">Coded workflows that are developed with Visual Studio 2012 are processed in the workflow runtime within SharePoint, as in Project Server 2010.</span></span> <span data-ttu-id="3c9f0-216">Дополнительные сведения см. в статье [Начало разработки рабочих процессов Project Server](getting-started-developing-project-server-workflows.md).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-216">For more information, see [Getting started developing Project Server workflows](getting-started-developing-project-server-workflows.md).</span></span>
    
- <span data-ttu-id="3c9f0-217">**Сеть периметра (DMZ).** На рис. 3 не показано, что локальный сервер веб-интерфейса можно изолировать с помощью дополнительного брандмауэра в сети периметра (также называемой "демилитаризованной зоной", или DMZ).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-217">**Perimeter network (DMZ):** Figure 3 does not show that an on-premises WFE server can be isolated by an additional firewall in a perimeter network (also known as a "demilitarized zone" or DMZ).</span></span> <span data-ttu-id="3c9f0-218">Сеть периметра позволяет веб-клиентам получать доступ к SharePoint и Project Server через брандмауэр.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-218">A perimeter network can allow Internet clients to access SharePoint and Project Server across a firewall.</span></span> 
    
- <span data-ttu-id="3c9f0-219">**Веб-службы SharePoint.** На рис. 3 не показана инфраструктура SharePoint, например внутреннее приложение веб-служб SharePoint, которое является частью SharePoint Server 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-219">**SharePoint Web Services:** Figure 3 does not show the SharePoint infrastructure, such as the back-end SharePoint Web Services application, which is part of SharePoint Server 2013.</span></span> <span data-ttu-id="3c9f0-220">При установке Project Server приложение службы Project добавляется в веб-службы SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-220">When you install Project Server, the Project Service Application is added to the SharePoint Web Services.</span></span> 
    
<span data-ttu-id="3c9f0-p125">Интерфейсный уровень включает сторонние приложения, Project профессиональный и Project Web App. Браузер отображает страницы ASP.NET 4.0 (ASPX-страницы) в Project Web App. На страницах Project Web App используются веб-части Project Server, которые обращаются к PSI, а также стандартные веб-части SharePoint.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p125">The front-end tier includes third-party applications, Project Professional, and Project Web App. A browser displays ASP.NET 4.0 pages (.aspx pages) in Project Web App. The Project Web App pages use Project Server Web Parts that communicate with the PSI and also use standard SharePoint Web Parts.</span></span> 
  
<span data-ttu-id="3c9f0-224">Средний уровень включает PSI и уровень бизнес-объектов, который состоит из логических объектов, представляющих собой бизнес-элементы Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-224">The middle tier includes the PSI and the business object layer, which consists of logical objects that represent Project Server business entities.</span></span> <span data-ttu-id="3c9f0-225">Бизнес-элементы включают проект, задачу, ресурс, назначение и т. д.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-225">Business entities include Project, Task, Resource, Assignment, and so on.</span></span> <span data-ttu-id="3c9f0-226">PSI и уровень бизнес-объектов бизнеса тесно связаны и находятся на одном сервере.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-226">The PSI and the business object tier are tightly coupled and are located on the same server.</span></span> <span data-ttu-id="3c9f0-227">Клиентское приложение вызывает PSI через один из доступных интерфейсов, и PSI вызывает бизнес-объекты.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-227">A client application calls the PSI through one of the available interfaces, and the PSI invokes business objects.</span></span> <span data-ttu-id="3c9f0-228">Для повышения производительности веб-интерфейс Project Server 2013 содержит некоторые бизнес-объекты для запросов, которые не используют систему очередей Project Server и не требуют наличия службы вычислений Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-228">For improved performance, the WFE of Project Server 2013 includes some business objects for requests that do not use the Project Server Queuing System or require the Project Calculation Service.</span></span> <span data-ttu-id="3c9f0-229">Бизнес-объекты веб-интерфейса взаимодействуют с базой данных Project напрямую.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-229">The WFE business objects communicate directly with the Project database.</span></span>
  
<span data-ttu-id="3c9f0-230">Компоненты Project Web App сервера Project Server используют базу данных конфигурации SharePoint 2013 для настройки сайта проекта и базу данных контента для содержимого сайта проекта, например списков задач, пользовательских страниц, рабочих процессов, параметров управления, документов, а также списков вопросов, рисков и обязательств.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-230">The Project Web App components of Project Server use the SharePoint 2013 configuration database for project site setup and the content database for project site content such as task lists, custom pages, workflows, management settings, documents, and lists of issues, risks, and commitments.</span></span> <span data-ttu-id="3c9f0-231">Конфигурация SharePoint и базы данных контента поддерживают дополнительные возможности для управления проектами, например рабочие области и шаблоны проектов, настраиваемые списки для совместной работы группы пользователей и отчеты.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-231">The SharePoint configuration and content databases support additional features for project management, such as project templates and workspaces, custom lists for team collaboration, and reports.</span></span>
  
### <a name="project-web-app-and-the-wfe"></a><span data-ttu-id="3c9f0-232">Project Web App и веб-интерфейс</span><span class="sxs-lookup"><span data-stu-id="3c9f0-232">Project Web App and the WFE</span></span>
<span data-ttu-id="3c9f0-233"><a name="pj15_Architecture_PWAServer"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-233"><a name="pj15_Architecture_PWAServer"> </a></span></span>

<span data-ttu-id="3c9f0-234">Вы можете настроить несколько экземпляров Project Web App в веб-интерфейсе и на нескольких серверах веб-интерфейса в корпоративной интрасети, чтобы включить распределение загрузки для клиентов интрасети.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-234">You can configure multiple Project Web App instances on a WFE and multiple WFE servers within a corporate intranet to enable load distribution for intranet clients.</span></span> <span data-ttu-id="3c9f0-235">Если клиентское приложение использует экземпляр Project Web App на отдельном сервере веб-интерфейса, вызовы PSI направляются через сервер пересылки PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-235">When a client application uses a Project Web App instance on a separate WFE server, PSI calls are routed through the PSI Forwarder.</span></span> <span data-ttu-id="3c9f0-236">Сервер пересылки PSI (сервер пересылки WCF или сервер пересылки веб-служб) выполняет следующие функции:</span><span class="sxs-lookup"><span data-stu-id="3c9f0-236">The PSI Forwarder (either the WCF Forwarder or the Web Service Forwarder) performs the following functions:</span></span>
  
- <span data-ttu-id="3c9f0-237">оптимизация вызовов PSI из удаленных клиентов;</span><span class="sxs-lookup"><span data-stu-id="3c9f0-237">Optimizes calls to the PSI from remote clients.</span></span>
    
- <span data-ttu-id="3c9f0-p129">разделение вызовов PSI на те, которым требуется служба очередей Project Server, и те, которым она не требуется (имена асинхронных методов PSI начинаются с Queue, например **QueueCreateProject**);</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p129">Distinguishes between PSI calls that require the Project Server Queue Service, and those that do not. Asynchronous PSI method names begin with Queue, such as **QueueCreateProject**.</span></span>
    
- <span data-ttu-id="3c9f0-240">идентификация вызовов PSI, активизирующих зарегистрированные обработчики локальных событий;</span><span class="sxs-lookup"><span data-stu-id="3c9f0-240">Identifies PSI calls that invoke registered local event handlers.</span></span>
    
- <span data-ttu-id="3c9f0-241">определение вызовов PSI, для которых требуется служба вычислений Project;</span><span class="sxs-lookup"><span data-stu-id="3c9f0-241">Identifies PSI calls that require the Project Calculation Service.</span></span>
    
- <span data-ttu-id="3c9f0-242">использование серверного кэша, работающего с клиентским активным кэшем в Project профессиональный, для сокращения вызовов "туда-обратно" на Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-242">Uses a server-based cache that works with the client-side Active Cache in Project Professional to reduce roundtrip calls to Project Server.</span></span>
    
<span data-ttu-id="3c9f0-243">После того как пользователь Project Server проходит проверку подлинности на SharePoint Server, сервер пересылки PSI открыто отправляет запросы, использующие серверные службы, службам PSI на компьютере, на котором запущен Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-243">After SharePoint Server authenticates a Project Server user, the PSI Forwarder transparently sends requests that use back-end services to the PSI services on the computer running Project Server.</span></span> <span data-ttu-id="3c9f0-244">Запросы, в которых серверные службы не требуются, отправляются к бизнес-объектам на локальном экземпляре Project Web App.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-244">Requests that do not require back-end services are sent to the business objects in the local Project Web App instance.</span></span> <span data-ttu-id="3c9f0-245">Сервер пересылки PSI улучшает масштабируемость, производительность и надежность обработки Project Server по локальной и глобальной сети, а также в Microsoft Project Online.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-245">The PSI Forwarder improves scalability, performance, and reliability for Project Server processing over the LAN, a WAN, and in Project Online.</span></span>
  
<span data-ttu-id="3c9f0-246">Компонент Project Web App был разработан с помощью ASP.NET 4.0.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-246">Project Web App is developed with ASP.NET 4.0.</span></span> <span data-ttu-id="3c9f0-247">Визуальные элементы в ASPX-файлах (HTML, элементы управления сервера и статический текст) отделены от программной логики в классах поддерживающего кода, находящихся в скомпилированных сборках (DLL-файлах).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-247">The visual elements in .aspx files (HTML, server controls, and static text) are separate from the programming logic in code-behind classes that are in compiled assemblies (.dll files).</span></span> <span data-ttu-id="3c9f0-248">Страницы сайтов в Project Web App, например страницу верхнего уровня, центр проектов и центр отчетов, можно настроить с помощью веб-частей.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-248">Site pages in Project Web App, such as the top-level page, Project Center, and Report Center, can be customized by using Web Parts.</span></span> <span data-ttu-id="3c9f0-249">Страницы приложений, не имеющие параметра **Изменить страницу** в меню **Действия сайта**, такие как страница "Параметры сервера" и "Просмотр расписания", не могут быть отредактированы.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-249">Application pages that do not have an **Edit Page** option in the **Site Actions** menu cannot be edited, such as the Server Settings page and the Review Timesheet page.</span></span> 
  
### <a name="the-csom-and-the-project-server-interface"></a><span data-ttu-id="3c9f0-250">CSOM и интерфейс Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-250">The CSOM and the Project Server Interface</span></span>
<span data-ttu-id="3c9f0-251"><a name="pj15_Architecture_PSI"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-251"><a name="pj15_Architecture_PSI"> </a></span></span>

<span data-ttu-id="3c9f0-252">PSI включает 22 общедоступные службы, такие как **Project**, **Resource**, **CustomField** и **Statusing**.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-252">The PSI is factored into 22 public services, such as **Project**, **Resource**, **CustomField**, and **Statusing**.</span></span> <span data-ttu-id="3c9f0-253">PSI также содержит семь частных служб, предназначенных для внутреннего использования.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-253">The PSI also contains seven private services for internal use.</span></span> <span data-ttu-id="3c9f0-254">PSI является фундаментальным API сервера Project Server. Он предоставляет функциональные возможности Project Server для CSOM и внешних приложений.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-254">The PSI is the fundamental API of Project Server; it exposes Project Server functionality to the CSOM and to external applications.</span></span> <span data-ttu-id="3c9f0-255">CSOM содержит классы, которые обращаются к наиболее часто используемым классам PSI и участникам, применяемым для сторонних приложений.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-255">The CSOM includes classes that access the most commonly used PSI classes and members that are used for third-party applications.</span></span> <span data-ttu-id="3c9f0-256">В Project Server 2013 некоторые функциональные возможности Project Server не доступны в CSOM (например, службы **Admin**, **Calendar**, **PortfolioAnalyses** и **Security**).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-256">In Project Server 2013, some Project Server functionality is not available in the CSOM, such as the **Admin**, **Calendar**, **PortfolioAnalyses**, and **Security** services.</span></span> 
  
<span data-ttu-id="3c9f0-257">Project профессиональный 2013 и Project Web App используют PSI для получения доступа к данным Project Server в черновиках, опубликованных и архивных таблицах, а также представлениях базы данных Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-257">Project Professional 2013 and Project Web App use the PSI to access Project Server data in the draft, published, and archive tables and views of the Project database.</span></span> <span data-ttu-id="3c9f0-258">Получить доступ к службе PSI (как для служб WCF, так и веб-служб ASMX) можно через файл прокси или сборку прокси.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-258">You can access a PSI service through a proxy file or a proxy assembly, for either the WCF services or the ASMX web services.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-259">CSOM является предпочтительным интерфейсом для сторонних разработчиков Project Server. Его можно использовать для приложений, которые имеют доступ как к локальной установке Project Server, так и к Microsoft Project Online.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-259">The CSOM is the preferred interface for third-party Project Server developers; it can be used for applications that access both an on-premises Project Server installation and Project Online.</span></span> <span data-ttu-id="3c9f0-260">Мы рекомендуем использовать CSOM для разработки новых приложений, если CSOM содержит требуемую для приложения функциональность.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-260">We recommend that you use the CSOM for developing new applications, if the CSOM includes the functionality that your application requires.</span></span> 
  
<span data-ttu-id="3c9f0-261">Для некоторых бизнес-приложений (LOB) и приложений сторонних разработчиков, созданных для Project Server 2010, требуются службы PSI, которые еще не представлены в CSOM.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-261">Some line-of-business (LOB) applications and other third-party applications that were developed for Project Server 2010 require PSI services that are not yet represented in the CSOM.</span></span> <span data-ttu-id="3c9f0-262">Если приложения предназначены только для локальной установки Project Server, они могут продолжать использовать интерфейс WCF или интерфейс ASMX PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-262">If they target only an on-premises installation of Project Server, applications can continue to use the WCF interface or the ASMX interface of the PSI.</span></span>
  
<span data-ttu-id="3c9f0-263">Клиентские приложения вызывают PSI через прокси служб.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-263">Client applications call the PSI through service proxies.</span></span> <span data-ttu-id="3c9f0-264">Клиенты, использующие интерфейс WCF, получают доступ ко всем службам PSI через `https://ServerName/ProjectServerName/_vti_bin/psi/ProjectServer.svc`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-264">Clients that use the WCF interface access all PSI services through  `https://ServerName/ProjectServerName/_vti_bin/psi/ProjectServer.svc`.</span></span> <span data-ttu-id="3c9f0-265">Клиенты, работающие с интерфейсом веб-службы ASMX, используют URL-адрес Project Web App для конкретной службы.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-265">Clients that use an ASMX web service interface use the Project Web App URL for the specific service.</span></span> <span data-ttu-id="3c9f0-266">Например, служба **Resource** находится по адресу `https://ServerName/ProjectServerName/_vti_bin/psi/resource.asmx?wsdl`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-266">For example, the **Resource** service is at  `https://ServerName/ProjectServerName/_vti_bin/psi/resource.asmx?wsdl`.</span></span> <span data-ttu-id="3c9f0-267">Если приложения не имеют доступа к Project Server из интрасети, они могут использовать сервер Project Web App в сети периметра (не показано на рис. 3).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-267">If applications do not have intranet access to Project Server, they can use a Project Web App server in a perimeter network (not shown in Figure 3).</span></span>
  
<span data-ttu-id="3c9f0-268">На рис. 4 показана панель **Подключения** в **диспетчере Internet Information Services (IIS)** для односерверной установки SharePoint Server 2013, Project Server 2013 и локального сайта управления рабочими процессами для Workflow Manager Client 1.0.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-268">Figure 4 shows the **Connections** pane in **Internet Information Services (IIS) Manager** for a single-server installation of SharePoint Server 2013, Project Server 2013, and a local Workflow Management site for Workflow Manager Client 1.0.</span></span> <span data-ttu-id="3c9f0-269">Семейство веб-сайтов SharePoint (A) включает интерфейсные службы PSI в виртуальном подкаталоге `_vti_bin\PSI`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-269">The SharePoint site collection (A) includes the front-end PSI services in the  `_vti_bin\PSI` virtual subdirectory.</span></span> <span data-ttu-id="3c9f0-270">Приложение веб-служб SharePoint (B) включает службу приложения Project Server с серверными службами PSI в виртуальном подкаталоге `508c23fb7dfd4c83a8919fae24bc68c5/PSI`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-270">The SharePoint Web Services application (B) includes the Project Service Application, with the back-end PSI services in the  `508c23fb7dfd4c83a8919fae24bc68c5/PSI` virtual subdirectory.</span></span> <span data-ttu-id="3c9f0-271">GUID — это имя экземпляра службы приложения Project Server для этой установки Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-271">The GUID is the name of the Project Service Application instance for that Project Server installation.</span></span> 
  
<span data-ttu-id="3c9f0-272">**Рисунок 4. Диспетчер IIS, показывающий интерфейсные PSI (A) и серверные PSI (B)**</span><span class="sxs-lookup"><span data-stu-id="3c9f0-272">**Figure 4. IIS Manager showing the front-end PSI (A), and the back-end PSI (B)**</span></span>

<span data-ttu-id="3c9f0-273">![Интерфейсные PSI и серверные PSI](media/pj15_Architecture_PSI_IIS.gif "Интерфейсные PSI и серверные PSI")</span><span class="sxs-lookup"><span data-stu-id="3c9f0-273">![The front-end PSI and the back-end PSI](media/pj15_Architecture_PSI_IIS.gif "The front-end PSI and the back-end PSI")</span></span>
  
<span data-ttu-id="3c9f0-274">Клиентские приложения не могут напрямую обращаться к службам WCF для PSI в серверной службе приложения Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-274">Client applications cannot directly access the WCF services for the PSI in the back-end Project Service Application.</span></span> <span data-ttu-id="3c9f0-275">Если им не требуется доступ к Microsoft Project Online, клиентские приложения и компоненты LOB-приложений используют прокси для PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-275">If they do not require access to Project Online, client applications and components of LOB applications use proxies for the PSI.</span></span> <span data-ttu-id="3c9f0-276">На рис. 4 внутренним URL-адресом для интерфейса WCF службы **Resource** может быть, например, `https://ServerName:32843/508c23fb7dfd4c83a8919fae24bc68c5/psi/resource.svc`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-276">A back-end URL for the WCF interface of the **Resource** service in Figure 4, for example, would be  `https://ServerName:32843/508c23fb7dfd4c83a8919fae24bc68c5/psi/resource.svc`.</span></span> <span data-ttu-id="3c9f0-277">Порт 32843 является HTTP-портом по умолчанию для приложения веб-служб SharePoint (для взаимодействия по протоколу HTTPS используется порт 32844).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-277">Port 32843 is the default HTTP port for the SharePoint Web Services application (32844 is the port for HTTPS communications).</span></span> <span data-ttu-id="3c9f0-278">Однако файл web.config для Project Web App блокирует прямой доступ к серверным службам PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-278">However, the web.config file for Project Web App blocks direct access to back-end PSI services.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-279">Пакет загрузки набора SDK Project 2013 включает прокси-файлы PSI для служб WCF и ASMX, а также инструкции по компиляции файлов в прокси-сборки.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-279">The Project 2013 SDK download includes PSI proxy files for the WCF services and the ASMX services, and instructions for how to compile them into proxy assemblies.</span></span> <span data-ttu-id="3c9f0-280">Чтобы создать обновленные прокси-файлы PSI, использующие интерфейс WCF, необходимо использовать служебную программу svcutil.exe или Visual Studio непосредственно на компьютере Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-280">> To create updated PSI proxy files that use the WCF interface, you have to use the svcutil.exe utility or Visual Studio directly on the Project Server computer.</span></span> 
  
<span data-ttu-id="3c9f0-281">Участники служб PSI, как правило, производят или потребляют типизированные объекты **DataSet** в качестве средства обмена информацией с бизнес-объектами.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-281">Members of the PSI services typically produce or consume typed **DataSet** objects as the means to exchange information with the business objects.</span></span> <span data-ttu-id="3c9f0-282">Существует также несколько различных моделей для разработки PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-282">There are also several different models for PSI development.</span></span> <span data-ttu-id="3c9f0-283">Например, службы PSI **Resource**, **CustomFields** и **LookupTable** используют объекты фильтра XML для манипулирования объектами **DataSet**, а другие службы — нет. Некоторые методы в службе **Statusing** используют параметр _changeXml_, в то время как другие методы и сервисы его не используют.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-283">For example, the **Resource**, **CustomFields**, and **LookupTable** PSI services use XML filter objects for **DataSet** manipulation, and other services do not; some methods in the **Statusing** service use a  _changeXml_ parameter, while other methods and services do not.</span></span> <span data-ttu-id="3c9f0-284">CSOM не использует наборы данных.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-284">The CSOM does not use datasets.</span></span> <span data-ttu-id="3c9f0-285">Хотя CSOM имеет модель программирования, отличную от модели PSI, и вы можете использовать сборки .NET или JavaScript, разработка с использованием CSOM, как правило, проще и понятнее, чем разработка с PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-285">Although the CSOM has a different programming model than the PSI, and you can use either .NET assemblies or JavaScript, development with the CSOM is generally simpler and more consistent than development with the PSI.</span></span> 
  
<span data-ttu-id="3c9f0-286">Дополнительные сведения о PSI см. в статье [Обзор справочника по Project PSI](project-psi-reference-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-286">For more information about the PSI, see [Project PSI reference overview](project-psi-reference-overview.md).</span></span> <span data-ttu-id="3c9f0-287">Дополнительные сведения о модели CSOM см. в статье [Клиентская объектная модель (CSOM) для Project 2013](client-side-object-model-csom-for-project-2013.md).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-287">For more information about the CSOM, see [Client-side object model (CSOM) for Project 2013](client-side-object-model-csom-for-project-2013.md).</span></span>
  
### <a name="business-objects-in-the-wfe-and-the-project-service-application"></a><span data-ttu-id="3c9f0-288">Бизнес-объекты в веб-интерфейсе и службе приложения Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-288">Business objects in the WFE and the Project Service Application</span></span>
<span data-ttu-id="3c9f0-289"><a name="pj15_Architecture_BusinessObjects"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-289"><a name="pj15_Architecture_BusinessObjects"> </a></span></span>

<span data-ttu-id="3c9f0-p142">Внутренняя объектная модель Project Server включает бизнес-объекты, которые представляют логические сущности, такие как "Проект" и "Ресурс". Клиентские приложения получают доступ к бизнес-объектам только через CSOM или PSI. Бизнес-объекты, в свою очередь, получают доступ к черновикам, опубликованным и архивным таблицам и представлениям в базе данных Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p142">The internal object model of Project Server includes the business objects, which represent logical entities such as Project and Resource. Client applications access business objects only through the CSOM or the PSI. Business objects, in turn, access the draft, published, and archive tables and views in the Project database.</span></span>
  
<span data-ttu-id="3c9f0-p143">Бизнес-объекты не предоставляются сторонним разработчикам. Интерфейс PSI обрабатывает сопоставление API с бизнес-объектами, а модель CSOM сопоставляет свои API с PSI. Логические сущности бизнес-объектов можно разделить на три типа.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p143">Business objects are not exposed to third-party developers. The PSI handles mapping of the API to business objects, and the CSOM maps its API to the PSI. The logical entities of business objects can be classified into three types:</span></span>
  
- <span data-ttu-id="3c9f0-p144">**Основные сущности:** такие объекты, как проекты, задачи, назначения, ресурсы и календари. Основные объекты включают основную бизнес-логику, такую как разрешения и правила именования.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p144">**Core entities** are objects such as projects, tasks, assignments, resources, and calendars. The core entities include basic business logic such as permissions and naming rules.</span></span> 
    
- <span data-ttu-id="3c9f0-p145">**Бизнес-сущности:** такие объекты, как расписания, портфели проектов и модели. Бизнес-сущности включают дополнительную бизнес-логику и, как правило, создаются на основе основных сущностей.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p145">**Business entities** are objects such as timesheets, project portfolios, and models. Business entities include additional business logic and usually are built from a combination of the core entities.</span></span> 
    
- <span data-ttu-id="3c9f0-300">**Вспомогательные сущности:** объекты, такие как объекты безопасности и проверки.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-300">**Support entities** are objects such as security and validation.</span></span> 
    
<span data-ttu-id="3c9f0-301">В Project Server 2010 все бизнес-объекты внедрены в службу приложения Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-301">In Project Server 2010, all business objects are implemented in the Project Service Application.</span></span> <span data-ttu-id="3c9f0-302">В Project Server 2013 в компоненте веб-интерфейса размещаются многие бизнес-объекты, которые обрабатывают синхронные методы и не требуют наличия службы вычислений Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-302">In Project Server 2013, the WFE hosts many of the business objects that process synchronous methods and do not require the Project Calculation Service.</span></span> <span data-ttu-id="3c9f0-303">Синхронные методы PSI, такие как **DeleteProject** и **ReadAssignments**, не используют службу очередей Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-303">Synchronous PSI methods such as **DeleteProject** and **ReadAssignments** do not use the Project Server Queue Service.</span></span> <span data-ttu-id="3c9f0-304">Имена асинхронных методов в PSI начинаются с `Queue` (например, **QueueCreateProject** и **QueueUpdateTimesheet**).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-304">Asynchronous methods in the PSI have names that start with  `Queue`, such as **QueueCreateProject** and **QueueUpdateTimesheet**.</span></span> <span data-ttu-id="3c9f0-305">Асинхронный метод отправляет сообщение в службу очередей Project Server, которая планирует обработку метода, в то время как управление возвращается пользователю.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-305">An asynchronous method sends a message to the Project Server Queue Service, which schedules processing of the method while control is returned to the user.</span></span>
  
<span data-ttu-id="3c9f0-p147">Сервер пересылки PSI определяет, какие запросы отправляются в приложение-службу Project, а какие могут обрабатываться бизнес-объектами в веб-интерфейсе. Бизнес-объекты в веб-интерфейсе обходят службу-приложение Project и получают прямой доступ к базе данных Project (так же как и другие процессы SharePoint в веб-интерфейсе получают прямой доступ к базам данных конфигурации и контента). Выполнение многих бизнес-объектов в веб-интерфейсе повышает эффективность работы Project Server, снижает нагрузку на уровень приложений и оптимизирует масштабируемость Project Server при возрастании нагрузки.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p147">The PSI Forwarder determines which requests are sent to the Project Service Application and which can be processed by the business objects in the WFE. The business objects in the WFE bypass the Project Service Application and have direct access to the Project database, similar to the way other SharePoint processes in a WFE directly access the Configuration and Content databases. Running many of the business objects on the WFE improves the efficiency of Project Server, reduces the load on the application tier, and enables Project Server to better scale up for increased workloads.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-309">В Project Server 2013 локальные обработчики событий должны быть развернуты в веб-интерфейсе и на внутреннем компьютере Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-309">In Project Server 2013, local event handlers must be deployed to the WFE and to the back-end Project Server computer.</span></span> 
  
### <a name="project-server-database"></a><span data-ttu-id="3c9f0-310">База данных Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-310">Project Server database</span></span>
<span data-ttu-id="3c9f0-311"><a name="pj15_Architecture_DAL"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-311"><a name="pj15_Architecture_DAL"> </a></span></span>

<span data-ttu-id="3c9f0-312">В Project Server 2013 четыре базы данных Project Server предыдущих версий объединены в одну базу данных Project в SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-312">In Project Server 2013, the four Project Server databases of previous versions are combined into one Project database in SQL Server.</span></span> <span data-ttu-id="3c9f0-313">Имя базы данных Project по умолчанию — ProjectService.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-313">The default Project database name is ProjectService.</span></span> <span data-ttu-id="3c9f0-314">Таблицы и представления отчетов сохраняют свои предыдущие имена с префиксом `dbo` (например, dbo.MSP_EpmProject и dbo.MSP_EpmProject_UserView).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-314">The reporting tables and views retain their previous names with the  `dbo` prefix, such as dbo.MSP_EpmProject and dbo.MSP_EpmProject_UserView.</span></span> <span data-ttu-id="3c9f0-315">Таблицы и представления, которые раньше находились в базе данных черновиков, имеют префикс `draft`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-315">Tables and views that were previously in the Draft database have the  `draft` prefix.</span></span> <span data-ttu-id="3c9f0-316">Таблицы и представления, которые раньше находились в базе данных опубликованных проектов, имеют префикс `pub`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-316">Tables and views from the Published database have the  `pub` prefix.</span></span> <span data-ttu-id="3c9f0-317">Таблицы и представления, которые раньше находились в базе данных архивов, имеют префикс `ver`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-317">Tables and views from the Archive database have the  `ver` prefix.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="3c9f0-318">Прямой доступ не поддерживается для таблиц и представлений черновиков (префикс `draft`), публикаций (префикс `pub`) и архивов (префикс `ver`).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-318">Direct access is not supported for the draft ( `draft` prefix), published (  `pub` prefix), and archive (  `ver` prefix) tables and views.</span></span> <span data-ttu-id="3c9f0-319">В отчетах следует использовать только таблицы и представления отчетов с префиксом `dbo`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-319">Reports should use only the reporting tables and views, which have the  `dbo` prefix.</span></span> 
  
<span data-ttu-id="3c9f0-320">Данные Project Server разделены в базе данных Project следующим образом:</span><span class="sxs-lookup"><span data-stu-id="3c9f0-320">Project Server data is partitioned in the Project database as follows:</span></span>
  
- <span data-ttu-id="3c9f0-321">Черновики таблиц и представлений содержат данные из неопубликованных проектов, которые были созданы Project профессиональный и другими приложениями.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-321">The draft tables and views contain data from unpublished projects that were created by Project Professional and other applications.</span></span> <span data-ttu-id="3c9f0-322">Project Web App не отображает данные проектов из черновиков таблиц и представлений.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-322">Project Web App does not display project data from the draft tables and views.</span></span>
    
- <span data-ttu-id="3c9f0-323">Опубликованные таблицы и представления содержат все опубликованные проекты и корпоративные ресурсы, глобальные данные для типов корпоративных проектов (EPT) и другие шаблоны проектов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-323">The published tables and views contain all of the published projects and enterprise resources, global data for enterprise project types (EPTs), and other project templates.</span></span> <span data-ttu-id="3c9f0-324">Опубликованные проекты видны в Project Web App.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-324">Published projects are visible in Project Web App.</span></span> <span data-ttu-id="3c9f0-325">Опубликованные данные также включают таблицы, относящиеся к Project Web App (расписания, модели, представления и т. д.), и таблицы глобальных данных (настраиваемые поля, таблицы поиска, разрешения авторизации Project Server и метаданные).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-325">The published data also includes tables that are specific to Project Web App (timesheets, models, views, and so on), and global data tables (custom fields, lookup tables, Project Server authorization permissions, and metadata).</span></span>
    
- <span data-ttu-id="3c9f0-326">В данных архива сохраняются резервные версии проектов, ресурсов, пользовательских полей и других данных.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-326">The archive data saves backup versions of projects, resources, custom fields, and other data.</span></span>
    
- <span data-ttu-id="3c9f0-327">Данные отчетов могут использоваться только для чтения в сторонних приложениях и для отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-327">The reporting data can be used for read-only access in third-party applications, and for reports.</span></span> <span data-ttu-id="3c9f0-328">Кубы OLAP Project Server используют представления отчетов с суффиксом `_OlapView`.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-328">Project Server OLAP cubes use the reporting views that have the  `_OlapView` suffix.</span></span> <span data-ttu-id="3c9f0-329">Кубы OLAP доступны в локально установленной версии Project Server, но недоступны в Microsoft Project Online.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-329">OLAP cubes are available in an on-premises Project Server installation, but are not available in Project Online.</span></span> 
    
    <span data-ttu-id="3c9f0-p153">Данные отчетов — полные и обновляются практически в режиме реального времени. Таблицы и представления отчетов оптимизированы для создания отчетов только для чтения; например, таблицы отчетов не нормализованы, чтобы предоставлять избыточные данные и сократить число реляционных таблиц.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p153">Reporting data is comprehensive and is updated nearly in real time. The reporting tables and views are optimized for read-only report generation; for example, the reporting tables are denormalized to provide redundant data and reduce the number of relational tables.</span></span>
    
<span data-ttu-id="3c9f0-p154">Логические сущности, такие как "Ресурс" или "Проект" могут охватывать несколько таблиц; все таблицы для конкретной сущности будут иметь тот же основной ключ. Основной ключ представляет собой GUID в отдельном столбце, который однозначно идентифицирует один экземпляр конкретной сущности.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-p154">Logical entities such as Resource or Project can span multiple tables, and all tables for a particular entity have the same primary key. The primary key is a GUID in a single column that uniquely identifies one instance of a particular entity.</span></span>
  
<span data-ttu-id="3c9f0-334">Данные Project Server для каждого экземпляра Project Web App хранятся в отдельной базе данных Project с другим именем.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-334">Project Server data for each instance of Project Web App is stored in a separate Project database with a different name.</span></span> <span data-ttu-id="3c9f0-335">Клиентские приложения, имеющие прямой доступ к Project Server, могут напрямую считывать таблицы и представления отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-335">Client applications that have direct access to Project Server can directly read the reporting tables and views.</span></span> <span data-ttu-id="3c9f0-336">При удаленном доступе клиентские приложения могут использовать интерфейс OData и интерфейс REST для получения данных для отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-336">For remote access, client applications can use the OData interface and the REST interface to get data for reports.</span></span> <span data-ttu-id="3c9f0-337">Для доступа к таблицам и представлениям черновиков, публикаций и архивов клиенты должны использовать только CSOM или PSI.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-337">Clients should use only the CSOM or the PSI to access the draft, published, and archive tables and views.</span></span> <span data-ttu-id="3c9f0-338">Служба данных отчетов (RDS, которая не показана на рис. 3) обновляет данные отчетов из опубликованных данных практически в режиме реального времени.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-338">The Reporting Data Service (RDS, which is not shown in Figure 3) updates the reporting data from published data in nearly real time.</span></span> <span data-ttu-id="3c9f0-339">База данных Project может располагаться на отдельном сервере.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-339">The Project database can be located on a separate server.</span></span>
  
<span data-ttu-id="3c9f0-340">Схемы документируются только для таблиц и представлений отчетов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-340">Schemas are documented only for the reporting tables and views.</span></span> <span data-ttu-id="3c9f0-341">Для локальной установки Project Server можно добавить таблицы и представления отчетов для сущностей, которые не определены в схеме базы данных Project.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-341">For an on-premises Project Server installation, you can add reporting tables and views for entities that are not defined in the Project database schema.</span></span> <span data-ttu-id="3c9f0-342">Вы также можете создавать отдельные базы данных для пользовательских локальных приложений.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-342">You can also create separate databases for custom on-premises applications.</span></span> <span data-ttu-id="3c9f0-343">Модификация не поддерживается для таблиц и представлений черновиков, публикаций и архивов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-343">Modification is not supported for the draft, published, and archive tables and views.</span></span> <span data-ttu-id="3c9f0-344">Если для вашего пользовательского приложения или отчета требуются настраиваемые объекты SQL (например, таблицы и представления), рекомендуется создавать их в пользовательской базе данных.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-344">If your custom application or report requires custom SQL objects (for example, tables and views), we recommend that you create these in a custom database.</span></span> <span data-ttu-id="3c9f0-345">Так как база данных Project не доступна напрямую в Microsoft Project Online, таблицы отчетов и представления изменить нельзя.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-345">Because the Project database is not directly accessible in Project Online, reporting tables and views cannot be modified.</span></span> <span data-ttu-id="3c9f0-346">Однако если у вас есть учетная запись SQL Azure, вы можете создать отдельные базы данных для собственного пользования с Microsoft Project Online.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-346">However, if you have a SQL Azure account, you can create separate databases for custom use with Project Online.</span></span>
  
### <a name="event-receivers"></a><span data-ttu-id="3c9f0-347">Получатели событий</span><span class="sxs-lookup"><span data-stu-id="3c9f0-347">Event receivers</span></span>
<span data-ttu-id="3c9f0-348"><a name="pj15_Architecture_EventHandlers"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-348"></span></span>

<span data-ttu-id="3c9f0-349">Локальные обработчики событий и удаленные приемники событий для Project Server обеспечивают расширяемость для сторонних приложений в ответ на события Project Server, такие как создание или публикация проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-349">Local event handlers and remote event receivers for Project Server enable third-party extensibility in response to Project Server events such as creating or publishing a project.</span></span> <span data-ttu-id="3c9f0-350">В Project Server 2010 все обработчики событий являются локальными и написаны с использованием кода, который имеет полное доверие, развернут непосредственно на компьютере с Project Server и веб-интерфейсами и выполняется внутри системы обработки событий Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-350">In Project Server 2010, all event handlers are local and are written in full-trust code, deployed directly on the computer running Project Server and to the WFEs, and run inside the Project Server Eventing System.</span></span> <span data-ttu-id="3c9f0-351">Так как Microsoft Project Online не может использовать обработчики событий с полным доверием, Project Server 2013 применяет удаленные приемники событий, аналогичные удаленным приемникам событий в SharePoint Server 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-351">Because Project Online cannot use full-trust event handlers, Project Server 2013 implements remote event receivers that are similar to the remote event receivers in SharePoint Server 2013.</span></span> <span data-ttu-id="3c9f0-352">Локально установленный экземпляр Project Server 2013 может использовать традиционные обработчики событий с полным доверием и удаленные приемники событий.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-352">An on-premises installation of Project Server 2013 can use traditional full-trust event handlers and remote event receivers.</span></span>
  
<span data-ttu-id="3c9f0-353">Удаленный приемник событий Project Server может быть реализован в пользовательской веб-службе с конечной точкой SOAP, которая работает в Microsoft Azure или других средах, поддерживающих веб-службы SOAP.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-353">A Project Server remote event receiver can be implemented in a custom web service with a SOAP endpoint that runs in Microsoft Azure or other environments that support SOAP web services.</span></span> <span data-ttu-id="3c9f0-354">Пакет приложения Project Server может содержать удаленные приемники событий, которые устанавливаются вместе с приложением.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-354">A Project Server app package can include remote event receivers that are installed with the app.</span></span>
  
<span data-ttu-id="3c9f0-355">Удаленные приемники событий могут выполнять обратный вызов Project Server, используя конечные точки CSOM (не показано на рис. 3).</span><span class="sxs-lookup"><span data-stu-id="3c9f0-355">Remote event receivers can call back into Project Server by using the CSOM endpoints (not shown in Figure 3).</span></span> <span data-ttu-id="3c9f0-356">Данные вызова удаленного приемника событий содержат информацию из системы обработки событий Project Server и экземпляра Project Web App (или клиента Project Web App в Microsoft Project Online), который выполняет вызов.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-356">The call to a remote event receiver includes information from the Project Server Event System and the Project Web App instance (or the Project Web App tenant in Project Online) that issues the call.</span></span> <span data-ttu-id="3c9f0-357">Удаленные приемники событий позволяют создать и разместить одну веб-службу, которая может использоваться несколькими установленными версиями Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-357">Remote event receivers enable you to create and host a single web service that can be used by multiple Project Server installations.</span></span> <span data-ttu-id="3c9f0-358">Локальные обработчики событий с полным доверием, напротив, должны быть развернуты в каждой установленной версии Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-358">By contrast, local full-trust event handlers must be deployed to each installation of Project Server.</span></span>
  
### <a name="publishing-and-server-side-scheduling"></a><span data-ttu-id="3c9f0-359">Публикация и планирование на стороне сервера</span><span class="sxs-lookup"><span data-stu-id="3c9f0-359">Publishing and server-side scheduling</span></span>
<span data-ttu-id="3c9f0-360"><a name="pj15_Architecture_PublishingScheduling"> </a></span><span class="sxs-lookup"><span data-stu-id="3c9f0-360"></span></span>

<span data-ttu-id="3c9f0-361">Project Server 2013 поддерживает как ручное, так и автоматическое обновление расписания проекта.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-361">Project Server 2013 supports both manual and automated project schedule updates.</span></span> <span data-ttu-id="3c9f0-362">По умолчанию обновление расписания выполняется вручную.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-362">The default process is a manual schedule update.</span></span> <span data-ttu-id="3c9f0-363">То есть диспетчер проектов проверяет и открывает проект в Project профессиональный или Project Web App, вносит изменения, а затем сохраняет и публикует проект, чтобы изменения стали доступны всем пользователям.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-363">That is, the project manager checks out and opens a project in Project Professional or Project Web App, applies the changes, and then saves and publishes the project to make the changes available to everyone.</span></span> <span data-ttu-id="3c9f0-364">Project профессиональный имеет механизм планирования, который вычисляет изменения, а затем сохраняет их в Project Server.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-364">Project Professional has a scheduling engine that calculates changes and then saves the changes to Project Server.</span></span> <span data-ttu-id="3c9f0-365">В Project Server 2010 серверный механизм планирования отличается от механизма планирования в Project профессиональный.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-365">In Project Server 2010, the server-side scheduling engine is a different implementation from the scheduling engine in Project Professional.</span></span>
  
<span data-ttu-id="3c9f0-366">В Project Server 2013 служба вычислений Project применяет тот же механизм планирования, что и в Project профессиональный 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-366">In Project Server 2013, the Project Calculation Service implements the same scheduling engine that is in Project Professional 2013.</span></span> <span data-ttu-id="3c9f0-367">Служба вычислений Project работает в службе Windows с именем **Служба вычислений Microsoft Project Server**.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-367">The Project Calculation Service runs in a Windows service named **Microsoft Project Server Calculation Service**.</span></span> <span data-ttu-id="3c9f0-368">При редактировании расписания проекта в Project Web App или с помощью сторонних приложений, использующих CSOM, в расписание вносятся точно такие же изменения, как если бы редактирование было выполнено с помощью Project профессиональный.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-368">Editing a project schedule in Project Web App or with third-party applications that use the CSOM results in exactly the same schedule changes that Project Professional would make.</span></span>
  
> [!NOTE]
> <span data-ttu-id="3c9f0-369">В сторонних приложениях, использующих PSI, расписание может несколько отличаться от расписания, рассчитанного Project Web App.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-369">Third-party applications that use the PSI may show some scheduling differences from a schedule that Project Web App calculates.</span></span> <span data-ttu-id="3c9f0-370">Чтобы обеспечить обратную совместимость, общедоступные методы PSI для составления расписания на стороне сервера по-прежнему используют механизм планирования, представленный в Project Server 2010.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-370">For backward-compatibility, the public PSI methods that do server-side scheduling still use the scheduling engine that was introduced in Project Server 2010.</span></span> <span data-ttu-id="3c9f0-371">Исключение составляет метод **QueueUpdateProject2**, который является новым методом PSI в Project Server 2013.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-371">An exception is **QueueUpdateProject2**, which is a new PSI method in Project Server 2013.</span></span> <span data-ttu-id="3c9f0-372">Например, более старый механизм планирования не создает расписание для вложенных проектов или ссылок на другие проекты и не вычисляет поля освоенного объема.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-372">For example, the older scheduling engine does not schedule subprojects or links to other projects, and does not calculate earned value fields.</span></span> <span data-ttu-id="3c9f0-373">Чтобы избежать возможных различий в планировании между сторонними приложениями и Project профессиональный или Project Web App, рекомендуется по возможности разрабатывать приложения с использованием модели CSOM.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-373">To avoid potential scheduling differences between third-party applications and Project Professional or Project Web App, you should develop applications with the CSOM where possible.</span></span> 
  
<span data-ttu-id="3c9f0-374">Project Server позволяет диспетчеру проектов обновлять опубликованную версию проекта из черновика следующим образом.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-374">Project Server allows the published version of a project to be updated while a project manager is using the draft version, by the following steps:</span></span>
  
1. <span data-ttu-id="3c9f0-375">Project Server применяет изменения и перепланирует опубликованную версию.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-375">Project Server applies updates and reschedules the published version.</span></span>
    
2. <span data-ttu-id="3c9f0-376">Project Server сохраняет обновление для применения к черновой версии, если происходит одно из следующих событий:</span><span class="sxs-lookup"><span data-stu-id="3c9f0-376">Project Server saves the update to apply to the draft version when either of the following events occur:</span></span>
    
   - <span data-ttu-id="3c9f0-377">Project Professional открывает проект;</span><span class="sxs-lookup"><span data-stu-id="3c9f0-377">Project Professional opens the project.</span></span>
    
   - <span data-ttu-id="3c9f0-378">Project Professional пытается опубликовать проект.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-378">Project Professional tries to publish the project.</span></span>
    
3. <span data-ttu-id="3c9f0-379">При возникновении конфликта диспетчер проектов получает уведомление и должен разрешить конфликт до того, как будет опубликована черновая версия.</span><span class="sxs-lookup"><span data-stu-id="3c9f0-379">If there is a conflict, the project manager is notified and must resolve the conflict before the draft version can be published.</span></span>
    
## <a name="see-also"></a><span data-ttu-id="3c9f0-380">Дополнительные ресурсы</span><span class="sxs-lookup"><span data-stu-id="3c9f0-380">See also</span></span>

- [<span data-ttu-id="3c9f0-381">Общие сведения о Project 2013 для разработчиков</span><span class="sxs-lookup"><span data-stu-id="3c9f0-381">Project 2013 overview for developers</span></span>](https://msdn.microsoft.com/library/8da91ab0-af4f-429f-8241-490600e3f7bd%28Office.15%29.aspx)
- [<span data-ttu-id="3c9f0-382">Возможности программирования для Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-382">Project Server programmability</span></span>](project-server-programmability.md)  
- [<span data-ttu-id="3c9f0-383">Клиентская объектная модель (CSOM) для Project 2013</span><span class="sxs-lookup"><span data-stu-id="3c9f0-383">Client-side object model (CSOM) for Project 2013</span></span>](client-side-object-model-csom-for-project-2013.md)  
- [<span data-ttu-id="3c9f0-384">Какие задачи PSI выполняет, а какие — нет</span><span class="sxs-lookup"><span data-stu-id="3c9f0-384">What the PSI does and does not do</span></span>](what-the-psi-does-and-does-not-do.md)  
- [<span data-ttu-id="3c9f0-385">Начало разработки рабочих процессов Project Server</span><span class="sxs-lookup"><span data-stu-id="3c9f0-385">Getting started developing Project Server workflows</span></span>](getting-started-developing-project-server-workflows.md)   
- [<span data-ttu-id="3c9f0-386">Обзор справочника по Project PSI</span><span class="sxs-lookup"><span data-stu-id="3c9f0-386">Project PSI reference overview</span></span>](project-psi-reference-overview.md)   
- [<span data-ttu-id="3c9f0-387">Протокол Open Data Protocol</span><span class="sxs-lookup"><span data-stu-id="3c9f0-387">Open Data Protocol</span></span>](https://www.odata.org/)
    

