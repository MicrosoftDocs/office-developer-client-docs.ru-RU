---
title: Настройка параметров безопасности для шаблонов форм с кодом
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
keywords:
- пакет развертывания политики безопасности [InfoPath 2007], URL-адреса [InfoPath 2007], назначение FullTrust, безопасность доступа к коду [InfoPath 2007], UNC [InfoPath 2007], назначение FullTrust, CAS [InfoPath 2007], безопасность [InfoPath 2007], Настройка, группы кода [ InfoPath 2007], FullTrust [InfoPath 2007], назначение UNC, FullTrust [InfoPath 2007], назначение URL-адресов
localization_priority: Normal
ms.assetid: 24d1a322-581f-497e-b97b-bd02c4516551
description: Набор разрешений, применяемый к шаблону формы InfoPath с управляемым кодом, можно настроить с помощью оснастки "Конфигурация .NET".
ms.openlocfilehash: 77f3546d976bb5ea353aa3fbe58ba7af6cd92a6d
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32300164"
---
# <a name="configure-security-settings-for-form-templates-with-code"></a>Настройка параметров безопасности для шаблонов форм с кодом

Набор разрешений, применяемый к шаблону формы InfoPath с управляемым кодом, можно настроить с помощью оснастки "Конфигурация .NET".
  
Общеязыковая среда выполнения (CLR), размещенная в InfoPath, будет искать предопределенную группу кода с именем " *шаблоны форм InfoPath* " на уровне политики компьютера в группе All_Code. Среда CLR применит наборы разрешений, определенные в этой группе, к домену приложений (AppDomain), в котором запускается код формы. Это позволяет настраивать наборы разрешений, которые предоставляются шаблонам форм InfoPath с управляемым кодом. Например, вы можете предоставить шаблон формы, скачанный из https://MySite разрешения на доступ к Active Directory. 
  
Для применения пользовательской политики безопасности, определенной с помощью оснастки "Конфигурация .NET", необходимо развернуть эту политику на всех клиентских компьютерах, на которых будет запускаться шаблон формы.
  
Дополнительные сведения о модели безопасности для шаблонов форм с управляемым кодом InfoPath приведены [в статье о модели безопасности для шаблонов форм с кодом](about-the-security-model-for-form-templates-with-code.md)
  
## <a name="creating-a-code-group-for-infopath-form-templates"></a>Создание группы кода для шаблонов форм InfoPath

Следующая процедура создаст группу кода, которая не предоставляет разрешения для шаблонов форм с управляемым кодом InfoPath (за исключением тех, которые установлены или зарегистрированы на локальном компьютере), в которой можно назначить наборы разрешений шаблонам форм InfoPath, размещенным по определенным URL-адресам или UNC. Сведения о том, как создавать и назначать наборы разрешений группам кода в группе `InfoPath Form Templates` кода, приведены в следующей процедуре. 
  
> [!NOTE]
> В отличие от средства **настройки Microsoft .NET framework 1,1** , устанавливаемого вместе с распространяемым пакетом Microsoft .net Framework 1,1, **Конфигурация microsoft .NET Framework 2,0** устанавливается только с платформой Microsoft .NET Framework. Пакет средств разработки программного обеспечения (SDK) 2,0. 
  
### <a name="to-create-a-custom-security-code-group-for-infopath-managed-code-forms"></a>Создание пользовательской группы кода безопасности для форм InfoPath с управляемым кодом

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В разделе **Мой компьютер**разверните узел **Политика безопасности во время выполнения** , узел **компьютера** , **группы кода** , узел **All_Code** , а затем щелкните правой кнопкой мыши узел **All_Code** и выберите команду создать **** , чтобы открыть диалоговое окно **Создание **Диалоговое окно "группа кода". 
    
3. Введите имя новой группы `InfoPath Form Templates` кода (этот текст должен быть точным), а затем нажмите кнопку **Далее**.
    
4. Установите для группы кодов тип условия **Весь код**, а затем нажмите кнопку **Далее**.
    
5. Щелкните **Использовать существующий набор разрешений**, назначьте для группы кода набор разрешений значение **Ничего**, нажмите кнопку **Далее**, а затем кнопку **Готово**.
    
6. Чтобы применить новые параметры, закройте и перезапустите InfoPath.
    
При желании вы можете управлять набором разрешений для всех шаблонов форм InfoPath с управляемым кодом, назначая набор разрешений, отличный от набора разрешений **Nothing** , для группы кода **шаблонов форм InfoPath** . 
> [!NOTE]
> Вы можете изменить набор разрешений для группы кода безопасности в любое время, щелкнув группу правой кнопкой мыши в разделе. Оснастка **net Configuration 2,0** , выберите пункт **свойства**, а затем щелкните вкладку **набор разрешений** . 
  
## <a name="assigning-fulltrust-to-forms-at-a-specific-url-or-unc"></a>Назначение разрешения "FullTrust" для форм, расположенных по указанному URL-адресу или UNC-пути

В группе **Шаблоны форм InfoPath** можно создать группы кода, чтобы предоставить набор разрешений полного доверия для шаблонов форм из отдельно взятого URL-адреса или UNC-пути. После этого каждый шаблон формы, публикуемый в указанном месте, будет запускаться с полным доверием. 
  
> [!NOTE]
> Шаблон формы, загруженный с локального компьютера (группа кода зоны), загружается InfoPath с использованием случайного URL-адреса. По этой причине невозможно использовать следующую процедуру, чтобы предоставить набор разрешений FullTrust такому шаблону формы. Чтобы предоставить локально установленный шаблон формы набор разрешений FullTrust, используйте одну из процедур, описанных в разделе "Развертывание шаблонов форм, требующих полного доверия" в разделе [Развертывание шаблонов форм InfoPath с кодом](how-to-deploy-infopath-form-templates-with-code.md) . 
  
### <a name="to-assign-fulltrust-to-infopath-forms-at-a-specific-url-or-unc-location"></a>Назначение набора разрешений "FullTrust" для форм InfoPath, расположенных по указанному URL-адресу или UNC-пути

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В разделе **Мой компьютер**разверните узел **Политика безопасности во время выполнения** , **узел компьютера** , **группы кода** , узел **All_Code** , а затем щелкните узел **шаблоны форм InfoPath** . 
    
3. В **Списке задач** на панели справа выберите **Добавить дочернюю группу кода**, задайте имя этой группе кода и нажмите кнопку **Далее**.
    
4. В списке **выберите тип условия для этой группы кода** выберите **URL-адрес**, а затем введите URL-адрес или UNC-адрес для расположения шаблонов форм InfoPath с управляемым кодом, которые требуется предоставить набор разрешений **FullTrust** . 
    
    Чтобы ограничить набор разрешений одним шаблоном формы, укажите полный путь к этому шаблону формы. Например:
    
     `\\MyServer\MyShare\MyFormTemplate.xsn`
    
     `https://MySite/MySubsite/MyFormTempate.xsn`
    
    Чтобы предоставить набор разрешений для всех шаблонов форм в рамках URL-адреса или UNC-пути, не указывайте имя шаблона и добавьте звездочку в конце URL-адреса или UNC-пути. Например:
    
     `\\MyServer\MyShare\*`
    
     `https://MySite/MySubsite/*`
    
5. Нажмите кнопку **Далее**, затем щелкните **Использовать существующий набор разрешений** и назначьте набор разрешений **FullTrust** для этой группы кода. 
    
6. Нажмите кнопку **Далее**, а затем — **Готово**.
    
7. Чтобы применить новые параметры, закройте и перезапустите InfoPath.
    
> [!NOTE]
> Чтобы применить более ограниченный или пользовательский набор разрешений, выберите на шаге 4 соответствующий вариант вместо **FullTrust**. 
  
## <a name="creating-a-deployment-package-for-infopath-security-policy"></a>Создание пакета развертывания для политики безопасности InfoPath

Определив пользовательскую политику безопасности для шаблонов с управляемыми формами InfoPath, можно создать пакет установщика Windows (MSI), чтобы развернуть эту политику безопасности на компьютерах пользователей с помощью групповой политики или Microsoft Systems Management Server.
  
### <a name="to-create-a-deployment-package-for-custom-infopath-security-policy"></a>Создание пакета развертывания для пользовательской политики безопасности InfoPath

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. Щелкните правой кнопкой мыши пункт **Политика безопасности во время выполнения**, а затем выберите **Создать пакет развертывания**.
    
3. В разделе **Выберите уровень политики безопасности для развертывания** щелкните **Компьютер**, укажите папку и имя файла для пакета установщика Windows, а затем нажмите кнопку **Далее**.
    
4. Нажмите кнопку **Готово**, чтобы создать пакет развертывания. 
    
5. Для получения сведений об использовании средства настройки .NET Framework выполните поиск по справке по Visual Studio или веб-сайту MSDN для "средства настройки .NET Framework Configuration (Mscorcfg. msc)".
    
## <a name="see-also"></a>См. также



[Модель безопасности для шаблонов форм с кодом](about-the-security-model-for-form-templates-with-code.md)

