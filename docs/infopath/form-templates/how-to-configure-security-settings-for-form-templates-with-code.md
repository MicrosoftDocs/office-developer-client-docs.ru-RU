---
title: Настройка безопасности Параметры шаблонов форм с помощью кода
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
keywords:
- пакет развертывания политики безопасности [infopath 2007], URL-адреса [InfoPath 2007], назначение fullTrust,code access security [InfoPath 2007], UNCs [InfoPath 2007], назначение FullTrust,CAS [InfoPath 2007], безопасность [InfoPath 2007], настройка групп кода [InfoPath 2007], FullTrust [InfoPath 2007], назначение unCs,FullTrust [InfoPath 2007], назначение URL-адресов
localization_priority: Normal
ms.assetid: 24d1a322-581f-497e-b97b-bd02c4516551
description: Можно настроить набор разрешений, который применяется к шаблону управляемых форм кода InfoPath с помощью оснастки .NET Configuration.
ms.openlocfilehash: 77f3546d976bb5ea353aa3fbe58ba7af6cd92a6d
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32300164"
---
# <a name="configure-security-settings-for-form-templates-with-code"></a>Настройка безопасности Параметры шаблонов форм с помощью кода

Можно настроить набор разрешений, который применяется к шаблону управляемых форм кода InfoPath с помощью оснастки .NET Configuration.
  
Общее время запуска языка (CLR), на который работает InfoPath, будет искать предопределённую группу кода с именем  *InfoPath Form Templates*  на уровне политики machine в All_Code группе. Среда CLR применит наборы разрешений, определенные в этой группе, к домену приложений (AppDomain), в котором запускается код формы. Это позволяет настроить наборы разрешений, предоставленные шаблонам управляемых форм кода InfoPath. Например, можно предоставить шаблон формы, загруженный с https://MySite разрешения на доступ к Active Directory. 
  
Для применения пользовательской политики безопасности, определенной с помощью оснастки "Конфигурация .NET", необходимо развернуть эту политику на всех клиентских компьютерах, на которых будет запускаться шаблон формы.
  
Дополнительные сведения о модели безопасности для шаблонов управляемых форм кода InfoPath см. в примере Модель безопасности для шаблонов форм [с кодом](about-the-security-model-for-form-templates-with-code.md)
  
## <a name="creating-a-code-group-for-infopath-form-templates"></a>Создание группы кода для шаблонов форм InfoPath

В следующей процедуре будет создаваться группа кода, которая не предоставляет разрешений шаблонам управляемых форм кода InfoPath (за исключением установленных или зарегистрированных на локальном компьютере), в соответствии с которым можно назначить наборы разрешений шаблонам форм InfoPath, расположенным в определенных URL-адресах или unCs. Сведения о создании и назначении наборов разрешений для групп кода в группе кода  `InfoPath Form Templates` см. в следующей процедуре. 
  
> [!NOTE]
> В отличие от средства конфигурации **Microsoft платформа .NET Framework 1.1,** установленного с перераспределяемым пакетом Microsoft платформа .NET Framework 1.1, конфигурация **Microsoft платформа .NET Framework 2.0** устанавливается только с набором разработки программного обеспечения Microsoft платформа .NET Framework 2.0 (SDK). 
  
### <a name="to-create-a-custom-security-code-group-for-infopath-managed-code-forms"></a>Создание пользовательской группы кода безопасности для форм InfoPath с управляемым кодом

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В статье Мой  компьютер разогнайте  узел Политики безопасности во время запуска, узел **Machine,** узел группы кода, узел  **All_Code,** а затем щелкните правой кнопкой мыши узел **All_Code** и нажмите кнопку New, чтобы открыть диалоговое окно Create **Code Group.** 
    
3. Назови новую группу  `InfoPath Form Templates` кода (этот текст должен быть точным), а затем нажмите **кнопку Далее**.
    
4. Установите для группы кодов тип условия **Весь код**, а затем нажмите кнопку **Далее**.
    
5. Щелкните **Использовать существующий набор разрешений**, назначьте для группы кода набор разрешений значение **Ничего**, нажмите кнопку **Далее**, а затем кнопку **Готово**.
    
6. Чтобы применить новые параметры, закрой и перезапустите InfoPath.
    
Если вы хотите, вы можете управлять набором разрешений для всех шаблонов форм управляемых кодов InfoPath, назначив набор разрешений, кроме набора разрешений **Nothing** для группы шаблонов форм **InfoPath.** 
> [!NOTE]
> Вы можете изменить набор разрешений для группы кода безопасности в любое время, щелкнув правой кнопкой мыши группу в . **NET Configuration 2.0** snap-in, щелкнув **свойства,** а затем щелкнув вкладку **Набор разрешений.** 
  
## <a name="assigning-fulltrust-to-forms-at-a-specific-url-or-unc"></a>Назначение разрешения "FullTrust" для форм, расположенных по указанному URL-адресу или UNC-пути

В группе **Шаблоны форм InfoPath** можно создать группы кода, чтобы предоставить набор разрешений полного доверия для шаблонов форм из отдельно взятого URL-адреса или UNC-пути. После этого каждый шаблон формы, публикуемый в указанном месте, будет запускаться с полным доверием. 
  
> [!NOTE]
> Шаблон формы, загружается с локального компьютера (группа кода зоны компьютера) загружается InfoPath с помощью случайного URL-адреса. По этой причине нельзя использовать следующую процедуру, чтобы предоставить набор разрешений FullTrust такому шаблону формы. Чтобы предоставить локально установленный шаблон формы набору разрешений FullTrust, используйте одну из процедур, описанных в разделе "Развертывание шаблонов форм, которые требуют полного доверия" в разделе Развертывание шаблонов форм [InfoPath](how-to-deploy-infopath-form-templates-with-code.md) с кодом. 
  
### <a name="to-assign-fulltrust-to-infopath-forms-at-a-specific-url-or-unc-location"></a>Назначение набора разрешений "FullTrust" для форм InfoPath, расположенных по указанному URL-адресу или UNC-пути

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В **статье** **"Мой** компьютер" разойдите  узел политики безопасности во время запуска, узел Machine, узел **группы** кода, узел All_Code, а затем щелкните узел Шаблоны форм **InfoPath.**  
    
3. В **Списке задач** на панели справа выберите **Добавить дочернюю группу кода**, задайте имя этой группе кода и нажмите кнопку **Далее**.
    
4. В  списке Выберите тип условия для этого списка групп кода выберите **URL-адрес,** а затем введите URL-адрес или UNC для расположения шаблонов управляемых форм кода InfoPath, которые необходимо предоставить набор разрешений **FullTrust.** 
    
    Чтобы ограничить набор разрешений одним шаблоном формы, укажите полный путь к этому шаблону формы. Например:
    
     `\\MyServer\MyShare\MyFormTemplate.xsn`
    
     `https://MySite/MySubsite/MyFormTempate.xsn`
    
    Чтобы предоставить набор разрешений для всех шаблонов форм в рамках URL-адреса или UNC-пути, не указывайте имя шаблона и добавьте звездочку в конце URL-адреса или UNC-пути. Например:
    
     `\\MyServer\MyShare\*`
    
     `https://MySite/MySubsite/*`
    
5. Нажмите кнопку **Далее**, затем щелкните **Использовать существующий набор разрешений** и назначьте набор разрешений **FullTrust** для этой группы кода. 
    
6. Нажмите кнопку **Далее**, а затем — **Готово**.
    
7. Чтобы применить новые параметры, закрой и перезапустите InfoPath.
    
> [!NOTE]
> Чтобы применить более ограниченный или пользовательский набор разрешений, выберите на шаге 4 соответствующий вариант вместо **FullTrust**. 
  
## <a name="creating-a-deployment-package-for-infopath-security-policy"></a>Создание пакета развертывания для политики безопасности InfoPath

После определения настраиваемой политики безопасности для шаблонов управляемых форм InfoPath можно создать пакет установщика Windows (.msi) для развертывания этой политики безопасности на компьютерах пользователей с помощью групповой политики или сервера управления microsoft Systems.
  
### <a name="to-create-a-deployment-package-for-custom-infopath-security-policy"></a>Создание пакета развертывания для пользовательской политики безопасности InfoPath

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. Щелкните правой кнопкой мыши пункт **Политика безопасности во время выполнения**, а затем выберите **Создать пакет развертывания**.
    
3. В разделе **Выберите уровень политики безопасности для развертывания** щелкните **Компьютер**, укажите папку и имя файла для пакета установщика Windows, а затем нажмите кнопку **Далее**.
    
4. Нажмите кнопку **Готово**, чтобы создать пакет развертывания. 
    
5. Сведения об использовании средства платформа .NET Framework конфигурации можно найти Visual Studio help или веб-сайт MSDN для "платформа .NET Framework Configuration Tool (Mscorcfg.msc)".
    
## <a name="see-also"></a>См. также



[О модели безопасности шаблонов форм с кодом](about-the-security-model-for-form-templates-with-code.md)

