---
title: Настройка параметров безопасности для шаблонов форм с помощью кода
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
keywords:
- пакет развертывания политики безопасности [infopath 2007],URL-адреса [InfoPath 2007], назначение FullTrust,code access security [InfoPath 2007],UNCs [InfoPath 2007], assigning FullTrust,CAS [InfoPath 2007],security [InfoPath 2007], configuring,code groups [InfoPath 2007],FullTrust [InfoPath 2007], assigning to UNCs,FullTrust [InfoPath 2007], assigning to URLs
localization_priority: Normal
ms.assetid: 24d1a322-581f-497e-b97b-bd02c4516551
description: Можно настроить набор разрешений, применяемый к шаблону формы InfoPath с управляемым кодом, с помощью оснастки "Конфигурация .NET".
ms.openlocfilehash: 77f3546d976bb5ea353aa3fbe58ba7af6cd92a6d
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32300164"
---
# <a name="configure-security-settings-for-form-templates-with-code"></a>Настройка параметров безопасности для шаблонов форм с помощью кода

Можно настроить набор разрешений, применяемый к шаблону формы InfoPath с управляемым кодом, с помощью оснастки "Конфигурация .NET".
  
В общей языковой политике, которая находится в InfoPath, будет искать предопределенное группу кода с именем  *InfoPath Form Templates*  на уровне политики компьютера в All_Code группы. Среда CLR применит наборы разрешений, определенные в этой группе, к домену приложений (AppDomain), в котором запускается код формы. Это позволяет настраивать наборы разрешений, предоставленные шаблонам форм InfoPath с управляемым кодом. Например, можно предоставить шаблон формы, загруженный из https://MySite разрешения на доступ к Active Directory. 
  
Для применения пользовательской политики безопасности, определенной с помощью оснастки "Конфигурация .NET", необходимо развернуть эту политику на всех клиентских компьютерах, на которых будет запускаться шаблон формы.
  
Дополнительные сведения о модели безопасности для шаблонов форм InfoPath с управляемым кодом см. в сведениях о модели безопасности для шаблонов форм [с кодом](about-the-security-model-for-form-templates-with-code.md)
  
## <a name="creating-a-code-group-for-infopath-form-templates"></a>Создание группы кода для шаблонов форм InfoPath

В следующей процедуре создается группа кода, которая не предоставляет разрешений на шаблоны форм InfoPath с управляемым кодом (за исключением установленных или зарегистрированных на локальном компьютере), в которой можно назначать наборы разрешений шаблонам форм InfoPath, расположенным по определенным URL-адресам или UNCs. Сведения о создании и назначении наборов разрешений группам кода в группе кода см. в  `InfoPath Form Templates` следующей процедуре. 
  
> [!NOTE]
> В отличие от средства настройки **Microsoft .NET Framework 1.1,** установленного с распространяемым пакетом Microsoft .NET Framework 1.1, конфигурация **Microsoft .NET Framework 2.0** устанавливается только с помощью пакета средств разработки программного обеспечения (SDK) Microsoft .NET Framework 2.0. 
  
### <a name="to-create-a-custom-security-code-group-for-infopath-managed-code-forms"></a>Создание пользовательской группы кода безопасности для форм InfoPath с управляемым кодом

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В узле "Мой компьютер" разкройте узел политики безопасности времени запуска, узел "Компьютер", узел "Группы кода", узел  **All_Code,** а затем щелкните правой кнопкой мыши узел **All_Code** и выберите "Создать", чтобы открыть диалоговое окно "Создание группы кода".     
    
3. Назовем новую группу `InfoPath Form Templates` кода (этот текст должен быть точным) и нажмите кнопку **"Далее".**
    
4. Установите для группы кодов тип условия **Весь код**, а затем нажмите кнопку **Далее**.
    
5. Щелкните **Использовать существующий набор разрешений**, назначьте для группы кода набор разрешений значение **Ничего**, нажмите кнопку **Далее**, а затем кнопку **Готово**.
    
6. Чтобы применить новые параметры, закроем и перезапустите InfoPath.
    
При этом можно управлять набором разрешений для всех шаблонов форм InfoPath с  управляемым кодом, назначая группе кода шаблонов форм **InfoPath** набор разрешений, кроме "Ничего". 
> [!NOTE]
> Вы можете изменить набор разрешений для группы кода безопасности в любое время, щелкнув правой кнопкой мыши группу в . **Оснастка NET Configuration 2.0,** щелкнув **"Свойства"** и перейдите на вкладку **"Набор** разрешений". 
  
## <a name="assigning-fulltrust-to-forms-at-a-specific-url-or-unc"></a>Назначение разрешения "FullTrust" для форм, расположенных по указанному URL-адресу или UNC-пути

В группе **Шаблоны форм InfoPath** можно создать группы кода, чтобы предоставить набор разрешений полного доверия для шаблонов форм из отдельно взятого URL-адреса или UNC-пути. После этого каждый шаблон формы, публикуемый в указанном месте, будет запускаться с полным доверием. 
  
> [!NOTE]
> Шаблон формы, загруженный с локального компьютера (группа кода зоны "Мой компьютер"), загружается InfoPath по случайному URL-адресу. По этой причине нельзя использовать следующую процедуру для предоставления набора разрешений FullTrust такому шаблону формы. Чтобы предоставить локально установленному шаблону формы набор разрешений FullTrust, используйте одну из процедур, описанных в разделе "Развертывание шаблонов форм, которые требуют полного доверия" раздела "Развертывание шаблонов форм [InfoPath](how-to-deploy-infopath-form-templates-with-code.md) с кодом". 
  
### <a name="to-assign-fulltrust-to-infopath-forms-at-a-specific-url-or-unc-location"></a>Назначение набора разрешений "FullTrust" для форм InfoPath, расположенных по указанному URL-адресу или UNC-пути

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. В **области "Мой** компьютер" разйдите  узел политики безопасности в сфере **runtime,** узел "Компьютер",  **"Группы** кода", узел All_Code и щелкните узел "Шаблоны форм **InfoPath".** 
    
3. В **Списке задач** на панели справа выберите **Добавить дочернюю группу кода**, задайте имя этой группе кода и нажмите кнопку **Далее**.
    
4. В  списке "Выберите тип условия для этого списка групп кода" выберите **URL-адрес** и введите URL-адрес или UNC для расположения шаблонов форм InfoPath с управляемым кодом, которые необходимо предоставить набору разрешений **FullTrust.** 
    
    Чтобы ограничить набор разрешений одним шаблоном формы, укажите полный путь к этому шаблону формы. Например:
    
     `\\MyServer\MyShare\MyFormTemplate.xsn`
    
     `https://MySite/MySubsite/MyFormTempate.xsn`
    
    Чтобы предоставить набор разрешений для всех шаблонов форм в рамках URL-адреса или UNC-пути, не указывайте имя шаблона и добавьте звездочку в конце URL-адреса или UNC-пути. Например:
    
     `\\MyServer\MyShare\*`
    
     `https://MySite/MySubsite/*`
    
5. Нажмите кнопку **Далее**, затем щелкните **Использовать существующий набор разрешений** и назначьте набор разрешений **FullTrust** для этой группы кода. 
    
6. Нажмите кнопку **Далее**, а затем — **Готово**.
    
7. Чтобы применить новые параметры, закроем и перезапустите InfoPath.
    
> [!NOTE]
> Чтобы применить более ограниченный или пользовательский набор разрешений, выберите на шаге 4 соответствующий вариант вместо **FullTrust**. 
  
## <a name="creating-a-deployment-package-for-infopath-security-policy"></a>Создание пакета развертывания для политики безопасности InfoPath

После определения настраиваемой политики безопасности для шаблонов infoPath с управляемыми формами можно создать пакет установщика Windows (MSI) для развертывания этой политики безопасности на компьютерах пользователей с помощью групповой политики или сервера управления системами Майкрософт.
  
### <a name="to-create-a-deployment-package-for-custom-infopath-security-policy"></a>Создание пакета развертывания для пользовательской политики безопасности InfoPath

1. В меню **Пуск** выберите пункт **Администрирование** и щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
    Если пункт **Администрирование** отсутствует в меню **Пуск**, то из **Панели управления** откройте **Администрирование** и дважды щелкните **Конфигурация Microsoft .NET Framework 2.0**.
    
2. Щелкните правой кнопкой мыши пункт **Политика безопасности во время выполнения**, а затем выберите **Создать пакет развертывания**.
    
3. В разделе **Выберите уровень политики безопасности для развертывания** щелкните **Компьютер**, укажите папку и имя файла для пакета установщика Windows, а затем нажмите кнопку **Далее**.
    
4. Нажмите кнопку **Готово**, чтобы создать пакет развертывания. 
    
5. Сведения о том, как использовать средство настройки .NET Framework, см. в справке по поиску Visual Studio или на веб-сайте MSDN для "Средства конфигурации .NET Framework (Mscorcfg.msc)".
    
## <a name="see-also"></a>См. также



[О модели безопасности для шаблонов форм с кодом](about-the-security-model-for-form-templates-with-code.md)

