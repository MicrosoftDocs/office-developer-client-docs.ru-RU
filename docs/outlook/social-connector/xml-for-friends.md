---
title: XML для друзей
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 3362639a-8098-47ab-ba94-ee89e4920032
description: Элемент друзья в схеме XML Outlook поставщика социальных соединителем Microsoft Outlook (OSC) позволяет поставщику OSC указывать сведения для списка лиц, связанных с Outlook пользователем в социальной сети.
ms.openlocfilehash: df3bf03c5fd1dcdac3096411bc60bcb1eeec661e
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32361161"
---
# <a name="xml-for-friends"></a>XML для друзей

Элемент **друзья** в схеме XML Outlook поставщика социальных соединителем (OSC) Майкрософт позволяет поставщику OSC указывать сведения о списке лиц, связанных с Outlook пользователем в социальной сети. Если поставщик OSC поддерживает кэширование синхронизации, этот список будет содержать только друзей пользователя Outlook в социальной сети. Если OSC поддерживает синхронизацию по запросу или гибридной, этот список может содержать как друзей, так и Outlook пользователя. 

Каждый человек в списке  представлен как элемент в схеме XML, которая поддерживает такие сведения, как имя, фамилия и адреса электронной почты. Поставщики OSC используют  элементы **друзей** и пользователей независимо от того, как они хотят, чтобы OSC синхронизировала сведения о друзьях из социальной сети. Обратите внимание, что  детские элементы человека похожи на некоторые свойства контакта Outlook, что облегчает хранение друзей в папке контактов Outlook, определенной социальной сети, если социальная сеть поддерживает кэширование или гибридную синхронизацию друзей с папкой Outlook контактов. 

## <a name="example-scenarios"></a>Примеры сценариев

В следующем примере покажите API-API поставщика osC, который реализует поставщик OSC, а osC — для получения сведений о друге. Сведения выражены в строках XML, которые соответствуют схеме XML поставщика OSC.
  
Пример XML друзей см. в [примере Friends XML.](friends-xml-example.md) Дополнительные сведения о синхронизации сведений о друзьях см. в этой [информации.](synchronizing-friends-and-activities.md)

### <a name="scenario-1-get-a-list-of-friends"></a>Сценарий 1: получить список друзей

Сценарий 1—OSC получает список друзей, объект [ISocialPerson](isocialpersoniunknown.md) и изображение для каждого друга: 
    
1. Поставщик OSC, который поддерживает показ друзей с сайта социальной сети и позволяет OSC кэшжать сведения о друзьях, указывает, что для OSC используется элементы **getFriends** и **cacheFriends,** которые являются детскими элементами элемента **возможностей.** 
    
2. Поставщик OSC также реализует методы [ISocialProvider::GetCapabilities,](isocialprovider-getcapabilities.md) [ISocialSession::GetPerson,](isocialsession-getperson.md) [ISocialPerson::GetFriendsAndColleagues](isocialperson-getfriendsandcolleagues.md)и [ISocialPerson::GetPicture.](isocialperson-getpicture.md) 
    
3. OsC вызывает **ISocialProvider::GetCapabilities,** чтобы проверить значение следующих элементов: **getFriends,** чтобы убедиться, что поставщик OSC поддерживает показ друзей из социальной сети, и **cacheFriends,** чтобы убедиться, что поставщик поддерживает кэшировать друзей. 
    
4. OsC вызывает **ISocialSession::GetPerson,** чтобы получить **объект ISocialPerson** для Outlook пользователя. 
    
5. OsC вызывает **ISocialPerson::GetFriendsAndColleagues,** чтобы вернуть список друзей Outlook пользователя в строке _параметра personCollection._ Строка  _personCollection_ соответствует определению схемы XML для элемента **друзья** в схеме XML. 
    
6. Для каждого друга в строке XML  _personCollection_ OSC получает значение элемента **userID** для вызова **ISocialSession::GetPerson** для получения объекта **ISocialPerson** для этого друга. 
    
7. Для каждого друга в **строке XML personCollection** OSC вызывает [ISocialPerson::GetPicture,](isocialperson-getpicture.md) чтобы получить ресурс изображения для этого друга. 
    
   OsC может далее звонить по объекту **ISocialPerson** для получения действий и сведений (например, адресов электронной почты) для этого друга. 
    
### <a name="scenario-2-synchronize-friends"></a>Сценарий 2: синхронизация друзей 

Сценарий 2—OSC синхронизирует друзей динамически:
    
1. Поставщик OSC, который поддерживает синхронизацию друзей и не друзей по запросу, указывает, что для OSC используется элементы **getFriends** и **dynamicContactsLookup.** Поставщик OSC также задает элемент **hashFunction.** Все три элемента — это детские **элементы возможностей.** 
    
2. Поставщик OSC также реализует метод [ISocialSession2::GetPeopleDetails.](isocialsession2-getpeopledetails.md) 
    
3. OsC вызывает **ISocialProvider::GetCapabilities,** чтобы проверить значения **getFriends** и **dynamicContactsLookup,** чтобы убедиться, что поставщик OSC поддерживает друзей и синхронизацию друзей и не-друзей по требованию. OsC также обращает внимание на значение **hashFunction,** поддерживаемого поставщиком OSC. 
    
4. Для каждого пользователя, отображаемого в области people, OSC собирает адрес электронной почты пользователя и шифрует его с помощью функции hash, указанной в **hashFunction**. Это создает строку XML, которая соответствует определению схемы XML для элемента **hashedAddresses.** 
    
5. OSC вызывает **ISocialSession2::GetPeopleDetails,** предоставляя эту строку XML-адресов в качестве параметра _personAddresses,_ чтобы динамически получать обновленные сведения для лиц в _параметре personsCollection._ Строка  _параметра personsCollection_ соответствует определению схемы XML для элемента **друзья** в схеме XML. 

## <a name="parent-and-child-elements"></a>Родительские и детские элементы

В схеме друзей находятся два элемента **верхнего** уровня. 
  
|**Элемент**|**Описание**|
|:-----|:-----|
|**друзья** <br/> |Представляет корневой элемент списка **элементов** персоны. **ISocialPerson::GetFriendsAndColleagues,** [ISocialSession::FindPerson](isocialsession-findperson.md)и **ISocialSession2::GetPeopleDetails** возвращают XML-строки, соответствующие определению схемы элемента **друзья.**  <br/> |
|**person** <br/> |Представляет одного человека в **списке** элементов персоны. Метод [ISocialPerson::GetDetails](isocialperson-getdetails.md) возвращает строку XML, которая соответствует определению схемы **элемента** person.  <br/> |
   
В следующей таблице описывается каждый детский элемент элемента **person** в схеме XML поставщика OSC. 
  
Полное определение схемы XML-схемы поставщика OSC, в том числе необходимых или необязательных элементов, см. в Outlook [social Connector Provider XML Schema.](outlook-social-connector-provider-xml-schema.md)
  
|**Элемент**|**Описание**|
|:-----|:-----|
|**address** <br/> |Физический адрес улицы человека.  <br/> |
|**юбилей** <br/> |Дата годовщины события для этого человека.  <br/> |
|**askmeabout** <br/> |Темы, связанные с интересом или знаниями человека.  <br/> |
|**birthday** <br/> |Дата рождения для человека.  <br/> |
|**businessAddress** <br/> |Физический уличный адрес рабочего места человека.  <br/> |
|**businessCity** <br/> |Город для рабочего места человека.  <br/> |
|**businessCountryOrRegion** <br/> |Страна или регион рабочего места человека.  <br/> |
|**businessState** <br/> |Состояние или область рабочего места человека.  <br/> |
|**businessZip** <br/> |Почтовый индекс или почтовый код рабочего места человека.  <br/> |
|**ячейка** <br/> |Номер мобильного телефона для человека.  <br/> |
|**city** <br/> |Город физического адреса для человека.  <br/> |
|**company** <br/> |Имя компании, связанной с человеком.  <br/> |
|**countryOrRegion** <br/> |Страна или область физического адреса человека.  <br/> |
|**creationTime** <br/> |Время создания профиля пользователя в социальной сети.  <br/> |
|**emailAddress** <br/> |Основной адрес электронной почты человека.  <br/> |
|**emailAddress2** <br/> |Вторичный адрес электронной почты человека.  <br/> |
|**emailAddress3** <br/> |Tertiary email address of the person.  <br/> |
|**expirationTime** <br/> |Время истечения срока действия данных профиля пользователя в социальной сети.  <br/> |
|**fileAs** <br/> |Строка, с помощью которой лицо должно быть подано в качестве контакта в Outlook контактов.  <br/> |
|**firstName** <br/> |Имя или имя человека.  <br/> |
|**friendStatus** <br/> |Состояние друга этого человека с входом в систему пользователя в социальной сети. Должно быть одним из следующих значений: **друг**, **недружественный**, **ожидание**, **pendingin**, **ожидание**.  <br/> |
|**fullName** <br/> |Полное имя человека.  <br/> |
|**gender** <br/> |Пол человека. Должно быть одним из следующих значений: **мужской**, **женский**, **неустановленные**.  <br/> |
|**homePhone** <br/> |Домашний номер телефона для человека.  <br/> |
|**index** <br/> |Расположение hashed адреса человека в параметре _строки personsAddresses_ передается на вызов в **метод ISocialSession2::GetPeopleDetails.** Он также указывает XML  человека в строке _personsCollection,_ возвращенной **GetPeopleDetails.**  <br/> |
|**отрасли** <br/> |Отрасли, в которые вовлечен человек.  <br/> |
|**interests;** <br/> |Интересы или увлечения человека.  <br/> |
|**lastModificationTime** <br/> |Время последнего изменения профиля пользователя в социальной сети.  <br/> |
|**lastName** <br/> |Фамилия или фамилия человека.  <br/> |
|**location** <br/> |Расположение человека.  <br/> |
|**nickname** <br/> |Более короткое имя или придуманное имя человека.  <br/> |
|**otherAddress** <br/> |Альтернативный уличный адрес человека.  <br/> |
|**otherCity** <br/> |Город альтернативного адреса человека.  <br/> |
|**otherCountryOrRegion** <br/> |Страна или регион альтернативного адреса человека.  <br/> |
|**otherState** <br/> |Состояние или область альтернативного адреса человека.  <br/> |
|**otherZip** <br/> |Почтовый индекс или почтовый код альтернативного адреса человека.  <br/> |
|**телефон** <br/> |Основной контактный телефонный номер для этого человека.  <br/> |
|**pictureUrl** <br/> |URL-адрес для изображения профиля пользователя.  <br/> |
|**отношение** <br/> |Связь этого человека с входом в систему пользователя.  <br/> |
|**schools** <br/> |Школы, в которые человек ходит или ходит.  <br/> |
|**skills** <br/> |Личные навыки человека.  <br/> |
|**state** <br/> |Состояние или область физического адреса человека.  <br/> |
|**заголовок** <br/> |Обозначение, добавленное к имени человека.  <br/> |
|**userID** <br/> |ID для идентификации человека в социальной сети.  <br/> |
|**webProfilePage** <br/> |Адрес веб-страницы, содержащий профиль пользователя.  <br/> |
|**веб-сайт** <br/> |Веб-сайт человека.  <br/> |
|**workPhone** <br/> |Номер делового телефона для человека.  <br/> |
|**zip** <br/> |Почтовый индекс или почтовый код физического адреса человека.  <br/> |
   
## <a name="see-also"></a>См. также

- [Пример XML Friends](friends-xml-example.md)  
- [Синхронизация друзей и действий](synchronizing-friends-and-activities.md)  
- [XML для возможностей](xml-for-capabilities.md) 
- [XML для действий](xml-for-activities.md)
- [Разработка поставщика с помощью схемы XML OSC](developing-a-provider-with-the-osc-xml-schema.md)

