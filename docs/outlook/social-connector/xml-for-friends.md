---
title: XML для друзей
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 3362639a-8098-47ab-ba94-ee89e4920032
description: Элемент friends в XML-схеме поставщика Microsoft Outlook Social Connector (OSC) позволяет поставщику OSC указывать сведения для списка лиц, связанных с пользователем Outlook в социальной сети.
ms.openlocfilehash: df3bf03c5fd1dcdac3096411bc60bcb1eeec661e
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32361161"
---
# <a name="xml-for-friends"></a>XML для друзей

Элемент **friends** в XML-схеме поставщика Microsoft Outlook Social Connector (OSC) позволяет поставщику OSC указывать сведения для списка лиц, связанных с пользователем Outlook в социальной сети. Если поставщик OSC поддерживает кэширование синхронизации, этот список пользователей будет содержать только друзей пользователя Outlook в социальной сети. Если OSC поддерживает синхронизацию по запросу или гибридную синхронизацию, этот список может содержать как друзей, так и других пользователей outlook. 

Каждый человек в списке  представлен в схеме XML как элемент person, который поддерживает такие сведения, как имя, фамилия и адреса электронной почты. Поставщики OSC используют  элементы **друзей** и пользователей независимо от того, как они хотят, чтобы OSC синхронизировала сведения о друге из социальной сети. Обратите внимание, что  его элементы похожи на некоторые свойства контакта Outlook, что упрощает хранение друзей в папке контактов Outlook, характерной для социальной сети, если социальная сеть поддерживает кэширование или гибридную синхронизацию друзей с папкой контактов Outlook. 

## <a name="example-scenarios"></a>Примеры сценариев

В следующих примерах сценариев показываются вызовы API extensibility поставщика OSC, которые реализует поставщик OSC, и osC делает для получения сведений о другом. Информация выражается в строках XML, которые соответствуют XML-схеме поставщика OSC.
  
Пример XML-разных друзей см. в [XML-примере "Друзья".](friends-xml-example.md) Дополнительные сведения о синхронизации сведений о друзьях см. в этой [теме.](synchronizing-friends-and-activities.md)

### <a name="scenario-1-get-a-list-of-friends"></a>Сценарий 1. Получите список друзей

Сценарий 1— OSC получает список друзей, объект [ISocialPerson](isocialpersoniunknown.md) и изображение для каждого друга: 
    
1. Поставщик OSC, который поддерживает отображение друзей с сайта социальной сети и разрешение OSC кэш данных друга, указывает на то, что в OSC с помощью **элементов getFriends** и **cacheFriends,** которые являются потомков **элементов возможностей.** 
    
2. Поставщик OSC также реализует методы [ISocialProvider::GetCapabilities,](isocialprovider-getcapabilities.md) [ISocialSession::GetPerson,](isocialsession-getperson.md) [ISocialPerson::GetFriendsAndColleagues](isocialperson-getfriendsandcolleagues.md)и [ISocialPerson::GetPicture.](isocialperson-getpicture.md) 
    
3. OsC вызывает **ISocialProvider::GetCapabilities,** чтобы проверить значение следующих элементов: **getFriends,** чтобы убедиться, что поставщик OSC поддерживает отображение друзей из социальной сети, и **cacheFriends,** чтобы убедиться, что поставщик поддерживает кэшировать друзей. 
    
4. OSC вызывает **ISocialSession::GetPerson,** чтобы получить объект **ISocialPerson** для пользователя Outlook. 
    
5. OSC вызывает **ISocialPerson::GetFriendsAndColleagues,** чтобы получить список друзей пользователя Outlook, возвращенный в строке параметра _personCollection._ Строка  _personCollection_ соответствует определению схемы XML для элемента **friends** в схеме XML. 
    
6. Для каждого друга в XML-строке  _personCollection_ OSC получает значение элемента **userID** для вызова **ISocialSession::GetPerson,** чтобы получить объект **ISocialPerson** для этого друга. 
    
7. Для каждого друга в XML-строке **personCollection** OSC вызывает [ISocialPerson::GetPicture,](isocialperson-getpicture.md) чтобы получить ресурс изображения для этого друга. 
    
   OsC может дополнительно обращаться к объекту **ISocialPerson** для получения действий и сведений (например, адресов электронной почты) для этого друга. 
    
### <a name="scenario-2-synchronize-friends"></a>Сценарий 2. Синхронизация друзей 

Сценарий 2— OSC динамически синхронизирует друзей:
    
1. Поставщик OSC, который поддерживает синхронизацию друзей и других по требованию, указывает на то, что для OSC используется **элемент getFriends** и **dynamicContactsLookup.** Поставщик OSC также задает элемент **hashFunction.** Все три элемента являются элементами **возможностей.** 
    
2. Поставщик OSC также реализует метод [ISocialSession2::GetPeopleDetails.](isocialsession2-getpeopledetails.md) 
    
3. OsC вызывает **ISocialProvider::GetCapabilities,** чтобы проверить значения **getFriends** и **dynamicContactsLookup,** чтобы убедиться, что поставщик OSC поддерживает синхронизацию друзей и других друзей по требованию. OsC также делает примечание о значении **hashFunction,** поддерживаемом поставщиком OSC. 
    
4. Для каждого пользователя, отображаемого в области "Люди", OSC собирает электронный адрес пользователя и шифрует его с помощью функции **hashFunction.** Это формирует строку XML, которая соответствует определению схемы XML для элемента **hashedAddresses.** 
    
5. OSC вызывает **ISocialSession2::GetPeopleDetails,** предоставляя эту строку XML-адресов в качестве параметра _personAddresses,_ чтобы динамически получать обновленные сведения для людей в _параметре personsCollection._ Строка  _параметра personsCollection_ соответствует определению схемы XML для элемента **friends** в схеме XML. 

## <a name="parent-and-child-elements"></a>Родительские и родительские элементы

Ниже 2 элемента верхнего уровня в схеме **друзей.** 
  
|**Элемент**|**Описание**|
|:-----|:-----|
|**friends** <br/> |Представляет корневой элемент списка **элементов** person. **ISocialPerson::GetFriendsAndColleagues,** [ISocialSession::FindPerson](isocialsession-findperson.md)и **ISocialSession2::GetPeopleDetails** возвращают строки XML, соответствующие определению схемы элемента **friends.**  <br/> |
|**person** <br/> |Представляет одного человека в списке **элементов** человека. Метод [ISocialPerson::GetDetails](isocialperson-getdetails.md) возвращает строку XML, которая соответствует определению схемы **элемента** person.  <br/> |
   
В следующей таблице описаны все элементы элемента **person** в XML-схеме поставщика OSC. 
  
Полное определение XML-схемы поставщика OSC, включая элементы, которые являются обязательными или необязательными, см. в XML-схеме поставщика [Outlook Social Connector.](outlook-social-connector-provider-xml-schema.md)
  
|**Элемент**|**Описание**|
|:-----|:-----|
|**address** <br/> |Физический адрес улицы человека.  <br/> |
|**anniversary** <br/> |Дата годовщины события для человека.  <br/> |
|**askmeabout** <br/> |Темы, которые интересуют или интересуют человека.  <br/> |
|**birthday;** <br/> |Дата рождения человека.  <br/> |
|**businessAddress** <br/> |Физический адрес рабочего места человека.  <br/> |
|**businessCity** <br/> |Город для рабочего места человека.  <br/> |
|**businessCountryOrRegion** <br/> |Страна или регион рабочего места человека.  <br/> |
|**businessState** <br/> |Область или край рабочего места человека.  <br/> |
|**businessZip** <br/> |Почтовый индекс или почтовый код рабочего места человека.  <br/> |
|**cell** <br/> |Номер мобильного телефона для человека.  <br/> |
|**city** <br/> |Город физического адреса человека.  <br/> |
|**company** <br/> |Название компании, связанной с человеком.  <br/> |
|**countryOrRegion** <br/> |Страна или регион физического адреса человека.  <br/> |
|**creationTime** <br/> |Время создания профиля пользователя в социальной сети.  <br/> |
|**emailAddress** <br/> |Основной адрес электронной почты человека.  <br/> |
|**emailAddress2** <br/> |Дополнительный адрес электронной почты человека.  <br/> |
|**emailAddress3** <br/> |Электронный адрес электронной почты человека.  <br/> |
|**expirationTime** <br/> |Время истечения срока действия данных профиля пользователя в социальной сети.  <br/> |
|**fileAs** <br/> |Строка, с помощью которой лицо должно быть подано в качестве контакта в файл контактов Outlook.  <br/> |
|**firstName** <br/> |Имя или имя человека.  <br/> |
|**friendStatus** <br/> |Состояние друга этого человека, во время которого пользователь вошел в систему в социальной сети. Должно иметь одно из следующих значений: **friend**, **nonfriend**, **pending**, **pendingin**, **pendingout**.  <br/> |
|**fullName** <br/> |Полное имя человека.  <br/> |
|**gender** <br/> |Пол человека. Должно иметь одно из следующих значений: **"самец",** **"женщина",** **"не заокончено".**  <br/> |
|**homePhone** <br/> |Номер домашнего телефона для человека.  <br/> |
|**индекс** <br/> |Расположение hashed-адреса человека в строковом параметре _personsAddresses,_ переданного в вызов метода **ISocialSession2::GetPeopleDetails.** Он также указывает XML-данные человека в строке _personsCollection,_ возвращаемой **GetPeopleDetails.**   <br/> |
|**industries** <br/> |Отрасли, в которые вовлечен человек.  <br/> |
|**interests;** <br/> |Интересами или интересами человека.  <br/> |
|**lastModificationTime** <br/> |Время последнего изменения профиля пользователя в социальной сети.  <br/> |
|**lastName** <br/> |Фамилия или фамилия человека.  <br/> |
|**location** <br/> |Расположение человека.  <br/> |
|**nickname** <br/> |Короткое имя или вымышлено имя человека.  <br/> |
|**otherAddress** <br/> |Альтернативный адрес улицы человека.  <br/> |
|**otherCity** <br/> |Город альтернативного адреса человека.  <br/> |
|**otherCountryOrRegion** <br/> |Страна или регион альтернативного адреса человека.  <br/> |
|**otherState** <br/> |Область или край альтернативного адреса человека.  <br/> |
|**otherZip** <br/> |Почтовый индекс альтернативного адреса человека.  <br/> |
|**phone** <br/> |Основной контактный номер телефона для человека.  <br/> |
|**pictureUrl** <br/> |URL-адрес изображения профиля человека.  <br/> |
|**связь** <br/> |Связь этого человека с во время входа пользователя.  <br/> |
|**schools;** <br/> |Учебные заведения, в которые поступил или в который перешел человек.  <br/> |
|**skills.** <br/> |Личные навыки человека.  <br/> |
|**state** <br/> |Область или край физического адреса человека.  <br/> |
|**заголовок** <br/> |Обозначение, добавленное к имени человека.  <br/> |
|**userID** <br/> |ID to identify the person on the social network.  <br/> |
|**webProfilePage** <br/> |Адрес веб-страницы, содержащий профиль человека.  <br/> |
|**website** <br/> |Веб-сайт человека.  <br/> |
|**workPhone** <br/> |Номер телефона для человека.  <br/> |
|**zip** <br/> |ПОЧТОВЫй индекс или почтовый индекс физического адреса человека.  <br/> |
   
## <a name="see-also"></a>См. также

- [Пример XML-разных друзей](friends-xml-example.md)  
- [Синхронизация друзей и действий](synchronizing-friends-and-activities.md)  
- [XML для возможностей](xml-for-capabilities.md) 
- [XML для действий](xml-for-activities.md)
- [Разработка поставщика с помощью схемы OSC XML](developing-a-provider-with-the-osc-xml-schema.md)

