---
title: Синхронизация друзей и действий
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 6e91b765-a207-4d8c-8763-5d643ca4d0c0
description: В Outlook social Connector (OSC) поддерживается отображение сведений из социальной сети о человеке в контактной карте или в Outlook области. SharePoint Сервер, SharePoint рабочей области, клиент Lync и все Office клиентские приложения, которые поддерживают сведения о присутствии, поддерживают карточку контактов.
ms.openlocfilehash: 0d6881c5d596519422d01ca61a00b1a68e610f2c
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32329203"
---
# <a name="synchronizing-friends-and-activities"></a>Синхронизация друзей и действий

В Outlook social Connector (OSC) поддерживается отображение сведений из социальной сети о человеке в контактной карте или в Outlook области. SharePoint Сервер, SharePoint рабочей области, клиент Lync и все Office клиентские приложения, которые поддерживают сведения о присутствии, поддерживают карточку контактов.
  
Вы можете использовать карточку контактов в сценариях совместной Office приложениях, чтобы узнать больше о том, с чем вы сотрудничаете. Примеры этих сценариев включают обмен сообщениями в Outlook и соавторство документа в Word. При нажатии на вкладку **What's new** contact Card отображаются сведения об этом человеке. 
  
В Outlook people Pane отображаются сведения о человеке, который может быть отправивщиком или получателем выбранного элемента Outlook. Всякий раз, когда вы выбираете другого человека в области людей или другой элемент в обозревателе Outlook или открываете элемент Outlook в инспекторе, Outlook social Connector (OSC) обновляет области людей. 
  
Для отображения текущей информации для выбранного лица в карточке контактов или в области людей OSC синхронизирует эти сведения с поставщиками OSC и в определенной форме кэшированием. Эта синхронизация зависит от поставщиков OSC, которые установлены на клиентский компьютер, социальных сетей, которые вы вошли в систему через своих поставщиков OSC, и режима синхронизации, который поддерживает каждый из поставщиков OSC для этих социальных сетей.
  
OsC поддерживает синхронизацию друзей, не друзей и действий для друзей и не друзей по-разному: кэширование синхронизации, синхронизация по запросу и гибридная синхронизация. Основное различие между этими режимами синхронизации состоит в том, где OSC хранит данные, будь то в папке в хранилище по умолчанию Outlook пользователя или в памяти на компьютере пользователя. В каждом случае, как отмечено в этом разделе, по умолчанию по умолчанию данные остаются в папке или памяти до обновления данных. В некоторых случаях минимальное количество времени может быть настроено групповой политикой. Дополнительные сведения о групповых политиках, которые контролируют поведение OSC, см. в Outlook социального соединителя с помощью [групповой политики.](https://support.microsoft.com/default.aspx?scid=kb%3Ben-US%3B2020103)
  
Обратите внимание, что если выбранный человек не является членом социальной сети, osc не отображает никаких сведений о человеке или действиях для этого человека в карточке контактов или в области людей.
  
## <a name="cached-synchronization"></a>Синхронизация кэширования

Поставщик OSC может хранить сведения для друзей в социальной сети в определенной папке в хранилище по умолчанию Outlook пользователя и периодически обновлять этот кэш по истечении указанного срока. Кэшинг сведений в папке имеет преимущество сокращения трафика в социальной сети.
  
> [!NOTE]
> Начиная с Outlook Social Connector 2013, OSC больше не поддерживает кэширование синхронизации действий. 
  
### <a name="cached-synchronization-of-friends"></a>Кэширование синхронизации друзей

Если поставщик OSC поддерживает кэширование синхронизации для друзей, он кэшируется для друзей зарегистрированного пользователя в социальной сети. Сведения кэшироваться в папке Outlook контактов, которая специфична для этой социальной сети в хранилище по умолчанию Outlook пользователя. Имя папки контактов основано на имени социальной сети, которое OSC получает с помощью [свойства ISocialProvider::SocialNetworkName.](isocialprovider-socialnetworkname.md) 
  
В кэшной синхронизации OSC хранит сведения только для друзей пользователя, зарегистрированных в социальной сети. OsC не имеет доступа к информации для не-друзей.
  
Интервал по умолчанию для OSC для обновления папки контактов для сведений друзей из социальной сети составляет один раз в день (или один раз в 1440 минут). Этот интервал обновления также может быть заданной групповой политикой, как это обсуждалось в начале этой темы.
  
Если ошибка возникает во время обновления, osC повторно ища через интервал, указанный **элементом contactSyncRestartInterval** в возможностях **XML.** Этот интервал повторной работы имеет значение по умолчанию в 30 минут, а также может быть заданной групповой политикой. 
  
Когда пользователь открывает контактную карту и выбирает новую вкладку **What's** new, новая вкладка обновляется.  Аналогичным образом, если Outlook повторно отбирает элемент в Outlook или переизбирает человека на области people, обновляется области людей. Если интервал обновления кэша не истек, OSC отправляется в кэш, чтобы получить любую информацию для выбранного пользователя. Это позволяет избежать накладных расходов на использование extensibility поставщика OSC для доступа к социальной сети. Если истек срок действия интервала обновления, osC вызывает метод [ISocialPerson::GetFriendsAndColleagues](isocialperson-getfriendsandcolleagues.md) для получения текущих сведений друзей для зарегистрированного пользователя и обновляет кэш в папке контактов. 
  
Поставщик OSC информирует OSC о том, что он поддерживает кэширование синхронизации друзей, указав следующие элементы в **возможностях** XML: 
  
- **getFriends**  =  **true**
    
- **cacheFriends**  =  **true**
    
- **dynamicContactsLookup**  =  **false**
    
## <a name="on-demand-synchronization"></a>Синхронизация по запросу

Когда пользователь выбирает новую вкладку **What's** в карточке контактов или выбирает другой элемент Outlook или другого пользователя в области людей в Outlook, OSC обновляет карточку контактов или people Pane соответственно. Если поставщик OSC поддерживает синхронизацию лиц или действий по запросу, OSC синхронизируется с кэшом в памяти и обновляет сведения, такие как имя, название, изображение и потоки действий, на карточке контактов или в области людей. Для синхронизации по запросу, в отличие от кэширования синхронизации, OSC пытается обновить сведения для пользователя независимо от того, является ли этот человек другом или не другом зарегистрированного пользователя в социальной сети. 
  
Данные человека (или действия) по запросу хранятся только в памяти. Данные в памяти очищаются, когда Office клиентского приложения закрывается, или пользователь вызывает обновление карточки контактов или people Pane и данные остаются в памяти дольше, чем интервал обновления. Обратите внимание, что обновление из социальной сети всегда инициировал пользователь, освежающий карточку контактов или people Pane (например, выбрав другого пользователя в области people pane или выбрав другой элемент в окне Outlook explorer). 

Однако обратное не всегда верно: не каждое обновление контактной карты или области пользователей обязательно приводит к обновлению из социальной сети. Если пользователь обновляет карточку контактов или людей, а данные пользователя (или действия) остаются в памяти дольше интервала обновления, OSC вызывает [ISocialSession2::GetPeopleDetails](isocialsession2-getpeopledetails.md) (или [ISocialSession2::GetActivitiesEx)](isocialsession2-getactivitiesex.md)для обновления данных в памяти из социальной сети. Допустимый период для сведений о друзьях и не знакомых в памяти — 24 часа, а для действий — 30 минут. 
  
Одно из важных различий между кэшированием и синхронизацией по требованию заключается в том, что синхронизация по запросу может получать сведения о человеке и действиях как для друзей, так и для не друзей в сети. Если выбранный человек не является другом, OSC обновляет сведения и действия для этого лица, если одно из следующих требований соответствует: 
  
- Пользователь в социальной сети разрешает общедоступный просмотр сведений о профиле и действиях.
    
- Пользователь находится в той же сети, что и зарегистрированный пользователь в этой социальной сети (например, в одной сети для выпускников университетов).
    
Синхронизация людей и действий по запросу приводит к дополнительным вызовам к поставщику из основного двигателя OSC. Социальные сети должны иметь возможность обрабатывать повышенные требования к пропускной способности синхронизации по запросу.
  
### <a name="specifying-xml-elements-for-on-demand-synchronization"></a>Указание элементов XML для синхронизации по запросу

Поставщик OSC информирует OSC о том, что он поддерживает синхронизацию друзей и не друзей по запросу, указав следующие элементы в  XML-возможностях: 
  
- **getFriends**  =  **true**
    
- **cacheFriends**  =  **false**
    
- **dynamicContactsLookup**  =  **true**
    
Поставщик OSC информирует OSC о том, что он поддерживает синхронизацию действий по  запросу, указав следующие элементы в XML-возможностях: 
  
- **getActivities**  =  **true**
    
- **cacheActivities**  =  **false**
    
- **dynamicActivitiesLookupEx**  =  **true**
    
## <a name="hybrid-synchronization"></a>Гибридная синхронизация

Поставщик OSC может поддерживать гибридную синхронизацию друзей и не друзей. Это позволяет оптимизировать вызовы между основным двигателем OSC и поставщиком OSC, вызовы в социальную сеть для синхронизации друзей по запросу и валюту данных друзей. Минимальное время хранения данных в папке или памяти, если это применимо, равно ограничениям в кэшируемых или в режимах синхронизации по требованию.
  
> [!NOTE]
> Начиная с Outlook Social Connector 2013, OSC поддерживает только синхронизацию действий по запросу и больше не поддерживает гибридную синхронизацию действий. 
  
### <a name="hybrid-synchronization-of-friends-and-non-friends"></a>Гибридная синхронизация друзей и не друзей

Если поставщик OSC поддерживает гибридную синхронизацию друзей и не друзей, osc делает следующее: 
  
- OsC хранит сведения для друзей зарегистрированного пользователя в папке контактов, определенной для социальных сетей.
    
- В OSC хранится информация для не-друзей зарегистрированного пользователя в памяти.
    
Поставщик OSC информирует OSC о том, что поддерживает гибридную синхронизацию друзей и  не друзей, указав следующие элементы в XML-возможностях: 
  
- **getFriends**  =  **true**
    
- **cacheFriends**  =  **true**
    
- **dynamicContactsLookup**  =  **true**
    
## <a name="synchronization-intervals"></a>Интервалы синхронизации

В следующей таблице суммируются интервалы синхронизации для друзей и недружествующих сведений между соответствующим кэшом (папкой или памятью) и социальной сетью в зависимости от поддерживаемого режима синхронизации. В режиме гибридной синхронизации обратитесь к строкам для кэширования для друзей и строке для режима по требованию для не-друзей.
  
|**Режим синхронизации для лиц**|**Где установлен интервал обновления**|**Минимальное время по умолчанию перед обновлением**|**Переопределения групповой политики**|
|:-----|:-----|:-----|:-----|
|Кэширования данных  <br/> |Настройка в osC  <br/> |1440 минут (24 часа)  <br/> |Windows **реестра NetContactSyncInterval** <br/> |
|Кэширования данных  <br/> |**элемент contactSyncRestartInterval** в **возможностях** XML  <br/> |30 минут, если **contactSyncRestartInterval** не установлен  <br/> |Windows реестра значение **contactSyncRestartInterval** <br/> |
|По запросу  <br/> |Настройка в osC  <br/> |1440 минут (24 часа)  <br/> |Windows **реестра OnlineSearchExpiryTime** <br/> |
   
В следующей таблице суммируются интервалы синхронизации действий друзей и не друзей между соответствующим кэшом (папкой или памятью) и социальной сетью в зависимости от поддерживаемых режимов синхронизации. 
  
|**Режим синхронизации действий**|**Где установлен интервал обновления**|**Минимальное время по умолчанию перед обновлением**|**Переопределения групповой политики**|
|:-----|:-----|:-----|:-----|
|По запросу  <br/> |Настройка в osC  <br/> |30 минут  <br/> |Windows **реестра OnlineSearchExpiryTime** <br/> |
   
Следующие сведения применимы к значениям Windows реестра, перечисленным в двух таблицах:
  
- Клавиша:  `HKEY_CURRENT_USER\Software\Policies\Microsoft\Office\Outlook\SocialConnector`
    
- Значение: значение DWORD от 1 до 10080
    
## <a name="see-also"></a>См. также

- [Пример XML возможностей](capabilities-xml-example.md)  
- [XML для возможностей](xml-for-capabilities.md)
- [Разработка поставщика с помощью схемы XML OSC](developing-a-provider-with-the-osc-xml-schema.md)  
- [Управление социальным соединитетелем Outlook с помощью групповой политики](https://support.microsoft.com/default.aspx?scid=kb%3Ben-US%3B2020103)

