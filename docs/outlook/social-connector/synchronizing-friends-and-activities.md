---
title: Синхронизация друзей и действий
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 6e91b765-a207-4d8c-8763-5d643ca4d0c0
description: Outlook Social Connector (OSC) поддерживает отображение сведений из социальной сети о сотруднике в карточке контакта или в области пользователей Outlook. SharePoint Server, SharePoint Workspace, Lync Client и все клиентские приложения Office, поддерживающие сведения о присутствии, поддерживают карточку контакта.
ms.openlocfilehash: 0d6881c5d596519422d01ca61a00b1a68e610f2c
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32329203"
---
# <a name="synchronizing-friends-and-activities"></a>Синхронизация друзей и действий

Outlook Social Connector (OSC) поддерживает отображение сведений из социальной сети о сотруднике в карточке контакта или в области пользователей Outlook. SharePoint Server, SharePoint Workspace, Lync Client и все клиентские приложения Office, поддерживающие сведения о присутствии, поддерживают карточку контакта.
  
Вы можете использовать карточку контакта в сценариях совместной работы в приложениях Office, чтобы узнать больше о людях, с которыми вы работаете. Примеры этих сценариев включают обмен сообщениями в Outlook и совместное редактирование документа в Word. При нажатии вкладки **новые возможности** карточки контакта отображаются сведения о лице. 
  
В области "люди" Outlook отображаются сведения о человеке, который может быть отправителем или получателем выбранного элемента Outlook. При выборе другого пользователя в области пользователей или в другом элементе в проводнике Outlook, а также при открытии элемента Outlook в инспекторе Outlook Social Connector (OSC) обновляет область пользователей. 
  
Для карточки контакта или области пользователей, чтобы отобразить текущие сведения о выбранном пользователе, OSC синхронизирует такие сведения с помощью поставщиков OSC и некоторых форм кэширования. Эта синхронизация зависит от поставщиков OSC, установленных на клиентском компьютере, социальных сетей, которые были зарегистрированы с помощью поставщиков OSC, и режима синхронизации, поддерживаемого каждым из поставщиков OSC для этих социальных сетей.
  
OSC поддерживает синхронизацию друзей, не друзей и действий для друзей и других друзей различными способами: кэшированная синхронизация, синхронизация по запросу и гибридная синхронизация. Основное различие между этими режимами синхронизации заключается в том, где OSC сохраняет данные в папке в магазине Outlook пользователя по умолчанию или в памяти на компьютере пользователя. В каждом случае, как указано в этом разделе, существует минимальное время по умолчанию, в течение которого данные остаются в папке или памяти до обновления данных. В некоторых случаях минимальное количество времени может быть изменено групповой политикой. Для получения дополнительных сведений о групповых политиках, управляющих поведением OSC, ознакомьтесь со статьей [Управление Outlook Social Connector с помощью групповой политики](https://support.microsoft.com/default.aspx?scid=kb%3Ben-US%3B2020103).
  
Обратите внимание, что если выбранный пользователь не является членом социальной сети, OSC не отображает сведения о пользователях или действиях для этого пользователя в карточке контакта или в области пользователей.
  
## <a name="cached-synchronization"></a>Кэширование синхронизации

Поставщик OSC может хранить информацию о друзьях в социальной сети в определенной папке в магазине Outlook по умолчанию, а также обновлять кэш по истечении определенного периода времени. Для кэширования данных в папке используется преимущества снижения трафика в социальной сети.
  
> [!NOTE]
> Начиная с Outlook Social Connector 2013, OSC больше не поддерживает кэшированную синхронизацию действий. 
  
### <a name="cached-synchronization-of-friends"></a>Кэширование синхронизации друзей

Если поставщик OSC поддерживает кэшированную синхронизацию для друзей, OSC кэширует сведения для друзей пользователя, выполнившего вход в социальной сети. Информация кэшируется в папке контактов Outlook, которая связана с этой социальной сетью в магазине Outlook, используемом по умолчанию для пользователя. Имя папки "Контакты" основано на имени социальной сети, которую OSC получает с помощью свойства [исоЦиалпровидер:: соЦиалнетворкнаме](isocialprovider-socialnetworkname.md) . 
  
В кэшированной синхронизации OSC сохраняет сведения только о друзьях пользователя, вошедшего в сеть социальных сетей. OSC не получает доступа к информации о пользователях, не являющихся друзьями.
  
Интервал по умолчанию для OSC для обновления сведений о друзьях в папке "Контакты" из социальной сети составляет один раз в день (или один раз в 1440 минут). Этот интервал обновления также можно настроить с помощью групповой политики, как описано в начале этой статьи.
  
Если во время обновления происходит ошибка, перемещается через интервал, заданный элементом **контактсинкрестартинтервал** в XML-файле **возможностей** . Этот интервал повтора имеет значение, заданное по умолчанию, равное 30 минутам, и его также можно задать с помощью групповой политики. 
  
Когда пользователь открывает карточку контакта и выбирает вкладку " **что нового** ", обновляется вкладка " **что нового** ". Аналогично, когда пользователь Outlook перевыбирает элемент в Outlook или перевыбирает пользователя в области пользователей, область пользователей обновляется. Если срок действия интервала обновления кэша не истек, OSC перемещается в кэш для получения любых сведений о выбранном пользователе. Это позволяет избежать дополнительных издержек при использовании расширяемости поставщика OSC для доступа к социальной сети. Если срок действия интервала обновления истек, OSC вызывает метод [исоЦиалперсон:: жетфриендсандколлеагуес](isocialperson-getfriendsandcolleagues.md) для получения сведений о текущих друзьях для пользователя, вошедшего в систему, и обновляет кэш в папке "Контакты". 
  
Поставщик OSC информирует OSC о том, что он поддерживает кэшированную синхронизацию друзей, указывая следующие элементы в XML-коде **возможностей** : 
  
- **друзья** = **true**
    
- **качефриендс** = **true**
    
- **динамикконтактслукуп** = **false**
    
## <a name="on-demand-synchronization"></a>Синхронизация по запросу

Когда пользователь выбирает вкладку " **что нового** " в карточке контакта или выбирает другой элемент Outlook или другого пользователя в области "Пользователи" в Outlook, OSC обновляет карточку контакта или область пользователей соответственно. Если поставщик OSC поддерживает синхронизацию пользователей или действий по требованию, OSC синхронизируется с кэшем в памяти и сведениями об обновлениях, такими как имя, название, изображение и потоки активности, в карточке контакта или в области пользователей. Для синхронизации по требованию, в отличие от кэшированной синхронизации, OSC пытается обновить сведения о пользователе независимо от того, является ли он дружественным или не дружественным пользователем в социальной сети. 
  
Данные о лице (или активности) по запросу хранятся только в памяти. Данные в памяти очищаются при завершении работы клиентского приложения Office или если пользователь вызывает обновление карточки контакта или области пользователей, а данные находятся в памяти дольше интервала обновления. Обратите внимание, что обновление из социальной сети всегда инициируется пользователем с обновлением карточки контакта или области пользователей (например, путем выбора другого пользователя в области пользователей или выбора другого элемента в окне проводника Outlook). 

Однако обратное не всегда имеет значение true, а не при каждом обновлении карточки контакта или области пользователей, как правило, приводит к обновлению из социальной сети. Если пользователь обновляет карточку контакта или область пользователей, а данные о лице (или активности) оставались в памяти дольше, чем интервал обновления, то OSC вызывает [ISocialSession2:: жетпеопледетаилс](isocialsession2-getpeopledetails.md) (или [ISocialSession2:: жетактивитиесекс](isocialsession2-getactivitiesex.md)) для обновления информации в памяти из социальной сети. Разрешенный период для сведений о дружественных и недружественных параметрах в памяти составляет 24 часа и для действий 30 минут. 
  
Одно важное различие между кэшированной синхронизацией и синхронизацией по запросу заключается в том, что при синхронизации по запросу можно получить сведения о пользователях и действиях для друзей и не друзей в сети. Если выбранное лицо не является дружественным, OSC обновляет сведения и действия для этого пользователя, если выполняется одно из следующих условий: 
  
- Пользователь является пользователем в социальной сети и предоставляет доступ к сведениям о профилях и действиях.
    
- Пользователь находится в той же сети, что и вошедший в нее пользователь в этой социальной сети (например, в той же сети, что и Университет выпускникам).
    
Синхронизация пользователей и действий по требованию приводит к дополнительным вызовам поставщика из ядра компонента OSC. Социальные сети должны иметь возможность обрабатывать повышенные требования к пропускной способности при синхронизации по требованию.
  
### <a name="specifying-xml-elements-for-on-demand-synchronization"></a>Указание элементов XML для синхронизации по запросу

Поставщик OSC информирует OSC о том, что он поддерживает синхронизацию друзей и других друзей по требованию, указывая следующие элементы в XML-коде **возможностей** : 
  
- **друзья** = **true**
    
- **качефриендс** = **false**
    
- **динамикконтактслукуп** = **true**
    
Поставщик OSC информирует OSC о том, что он поддерживает синхронизацию действий по требованию, указывая следующие элементы в XML-коде **возможностей** : 
  
- **операции с действиями** = с действием**true**
    
- **качеактивитиес** = **false**
    
- **динамикактивитиеслукупекс** = **true**
    
## <a name="hybrid-synchronization"></a>Гибридная синхронизация

Поставщик OSC может поддерживать гибридную синхронизацию друзей и не друзей. Это может оптимизировать вызовы между ядром компонента OSC и поставщиком OSC, вызовы социальных сетей для синхронизации друзей по требованию и валюта данных друзей. Минимальное время, в течение которого данные могут храниться в папке или памяти (если это возможно), то же, что и в кэшированных или в режимах синхронизации по запросу.
  
> [!NOTE]
> Начиная с Outlook Social Connector 2013, OSC поддерживает только синхронизацию действий по запросу и более не поддерживает гибридную синхронизацию действий. 
  
### <a name="hybrid-synchronization-of-friends-and-non-friends"></a>Гибридная Синхронизация друзей и других друзей

Если поставщик OSC поддерживает гибридную синхронизацию друзей и не друзей, OSC выполняет следующие действия: 
  
- OSC сохраняет информацию для друзей пользователя, выполнившего вход в систему, в папке контактов социальных сетей.
    
- OSC сохраняет информацию о пользователях, вошедших в систему, в памяти.
    
Поставщик OSC информирует OSC о том, что он поддерживает гибридную синхронизацию друзей и не друзей, указывая следующие элементы в XML-коде **возможностей** : 
  
- **друзья** = **true**
    
- **качефриендс** = **true**
    
- **динамикконтактслукуп** = **true**
    
## <a name="synchronization-intervals"></a>Интервалы синхронизации

В следующей таблице приведены интервалы синхронизации для друзей и сведений о недрузьях между соответствующим кэшем (папкой или памятью) и социальной сетью в зависимости от поддерживаемого режима синхронизации. В режиме гибридной синхронизации следует ссылаться на строки режима кэширования для друзей и строку для режима "по запросу" для не друзей.
  
|**Режим синхронизации для лиц**|**Где задается интервал обновления**|**Минимальное время по умолчанию перед обновлением**|**Переопределение групповой политики**|
|:-----|:-----|:-----|:-----|
|Кэширования данных  <br/> |Задается в OSC  <br/> |1440 минут (24 часа)  <br/> |Значение реестра Windows **нетконтактсинЦинтервал** <br/> |
|Кэширования данных  <br/> |элемент **контактсинкрестартинтервал** в XML-коде **возможностей**  <br/> |30 минут, если **контактсинкрестартинтервал** не задано  <br/> |Значение реестра Windows **контактсинкрестартинтервал** <br/> |
|По запросу  <br/> |Задается в OSC  <br/> |1440 минут (24 часа)  <br/> |Значение реестра Windows **онлинесеарчекспиритиме** <br/> |
   
В следующей таблице обобщены интервалы синхронизации для действий друзей и других друзей между соответствующим кэшем (папкой или памятью) и социальными сетями в зависимости от поддерживаемых режимов синхронизации. 
  
|**Режим синхронизации для действий**|**Где задается интервал обновления**|**Минимальное время по умолчанию перед обновлением**|**Переопределение групповой политики**|
|:-----|:-----|:-----|:-----|
|По запросу  <br/> |Задается в OSC  <br/> |30 мин.  <br/> |Значение реестра Windows **онлинесеарчекспиритиме** <br/> |
   
Приведенные ниже сведения относятся к значениям реестра Windows, приведенным в следующих таблицах:
  
- Разделе`HKEY_CURRENT_USER\Software\Policies\Microsoft\Office\Outlook\SocialConnector`
    
- Значение: значение DWORD в диапазоне от 1 до 10080
    
## <a name="see-also"></a>См. также

- [Пример XML-кода возможностей](capabilities-xml-example.md)  
- [XML для возможностей](xml-for-capabilities.md)
- [Разработка поставщика с помощью XML-схемы OSC](developing-a-provider-with-the-osc-xml-schema.md)  
- [Управление Outlook Social Connector с помощью групповой политики](https://support.microsoft.com/default.aspx?scid=kb%3Ben-US%3B2020103)

