---
title: Тестирование получения данных друзей
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 109c34b6-911b-4dfc-9799-aadf47172e84
description: В этом разделе описываются тесты и сценарии для проверки того, что поставщик Outlook Social Connector (OSC) правильно возвращает данные о друзьях и не друзьях, где это применимо в зависимости от режима синхронизации, поддерживаемого поставщиком.
ms.openlocfilehash: 1c97342fd5b219b15b1f58dbc065fc268f8e81d7
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32338789"
---
# <a name="testing-friends"></a><span data-ttu-id="5fa12-103">Тестирование получения данных друзей</span><span class="sxs-lookup"><span data-stu-id="5fa12-103">Testing friends</span></span>

<span data-ttu-id="5fa12-104">В этом разделе описываются тесты и сценарии для проверки того, что поставщик Outlook Social Connector (OSC) правильно возвращает данные о друзьях и не друзьях, где это применимо в зависимости от режима синхронизации, поддерживаемого поставщиком.</span><span class="sxs-lookup"><span data-stu-id="5fa12-104">This topic describes tests and scenarios to verify that the Outlook Social Connector (OSC) provider appropriately returns data of friends and non-friends, where applicable, depending on the synchronization mode supported by the provider.</span></span>

<span data-ttu-id="5fa12-105"><a name="olosc_TestingFriends_CachedSync"> </a></span><span class="sxs-lookup"><span data-stu-id="5fa12-105"></span></span>

## <a name="cached-synchronization"></a><span data-ttu-id="5fa12-106">Кэширование синхронизации</span><span class="sxs-lookup"><span data-stu-id="5fa12-106">Cached synchronization</span></span>

<span data-ttu-id="5fa12-107">Поставщик OSC реализует [возможности исоЦиалпровидер::](isocialprovider-getcapabilities.md), которые OSC вызывает, чтобы определить, поддерживает ли поставщик кэшированную синхронизацию данных друзей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-107">An OSC provider implements [ISocialProvider::GetCapabilities](isocialprovider-getcapabilities.md), which the OSC calls to determine whether the provider supports cached synchronization of friends' data.</span></span> <span data-ttu-id="5fa12-108">После вызова [исоЦиалперсон:: жетфриендсандколлеагуес](isocialperson-getfriendsandcolleagues.md), OSC сохраняет возвращенные данные друзей в папке "Контакты", характерной для социальной сети, в магазине Outlook пользователя, вошедшего в систему по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5fa12-108">After calling [ISocialPerson::GetFriendsAndColleagues](isocialperson-getfriendsandcolleagues.md), the OSC stores the returned friends' data in a contacts folder specific to the social network in the logged-on user's default Outlook store.</span></span> <span data-ttu-id="5fa12-109">Кроме того, OSC вызывает [настроенный ISocialSession::](isocialsession-getperson.md) исоЦиалперсон:: и [::](isocialperson-getpicture.md) , чтобы получить изображение профиля для каждого друга.</span><span class="sxs-lookup"><span data-stu-id="5fa12-109">The OSC also calls [ISocialSession::GetPerson](isocialsession-getperson.md) and [ISocialPerson::GetPicture](isocialperson-getpicture.md) to obtain a profile picture for each friend.</span></span> 
  
### <a name="initiate-synchronization"></a><span data-ttu-id="5fa12-110">Запуск синхронизации</span><span class="sxs-lookup"><span data-stu-id="5fa12-110">Initiate synchronization</span></span>

<span data-ttu-id="5fa12-111">Для запуска синхронизации можно включить и использовать **Контакты синхронизации** с кнопками "Отладка" в компоненте ленты пользовательского интерфейса Microsoft Office Fluent.</span><span class="sxs-lookup"><span data-stu-id="5fa12-111">To initiate synchronization, you can turn on and use the debug button **Sync Contacts** in the ribbon component of the Microsoft Office Fluent user interface.</span></span> <span data-ttu-id="5fa12-112">Дополнительные сведения о кнопках отладки OSC приведены [в разделе Отладка поставщика](debugging-a-provider.md).</span><span class="sxs-lookup"><span data-stu-id="5fa12-112">For more information about OSC debug buttons, see [Debugging a Provider](debugging-a-provider.md).</span></span> 
  
### <a name="test-scenarios"></a><span data-ttu-id="5fa12-113">Тестовые сценарии</span><span class="sxs-lookup"><span data-stu-id="5fa12-113">Test scenarios</span></span>

<span data-ttu-id="5fa12-114">ПроТестируйте следующие элементы, чтобы убедиться, что данные друзей кэшируются правильно.</span><span class="sxs-lookup"><span data-stu-id="5fa12-114">Test the following items to verify that friends' data is cached correctly.</span></span>
  
|<span data-ttu-id="5fa12-115">**Проверяемый элемент**</span><span class="sxs-lookup"><span data-stu-id="5fa12-115">**Item to test**</span></span>|<span data-ttu-id="5fa12-116">**Ожидаемое поведение**</span><span class="sxs-lookup"><span data-stu-id="5fa12-116">**Expected behavior**</span></span>|
|:-----|:-----|
|<span data-ttu-id="5fa12-117">Папка "Контакты"</span><span class="sxs-lookup"><span data-stu-id="5fa12-117">Contacts folder</span></span>  <br/> |<span data-ttu-id="5fa12-118">Папка контактов, относящаяся к социальным сетям, существует в магазине Outlook пользователя по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5fa12-118">The social network-specific contacts folder exists in the user's default Outlook store.</span></span>  <br/> |
|<span data-ttu-id="5fa12-119">Сведения о друзьях, возвращенные **исоЦиалперсон:: жетфриендсандколлеагуес**</span><span class="sxs-lookup"><span data-stu-id="5fa12-119">Friends' data returned by **ISocialPerson::GetFriendsAndColleagues**</span></span> <br/> |<span data-ttu-id="5fa12-120">Каждый друг соответствует контакту в папке "Контакты", соответствующей сети.</span><span class="sxs-lookup"><span data-stu-id="5fa12-120">Each friend corresponds to a contact in the network-specific contacts folder.</span></span>  <br/> |
|<span data-ttu-id="5fa12-121">Данные друзей</span><span class="sxs-lookup"><span data-stu-id="5fa12-121">Friends' data</span></span>  <br/> |<span data-ttu-id="5fa12-122">Поля контактов для каждого друга имеют правильные данные.</span><span class="sxs-lookup"><span data-stu-id="5fa12-122">Contact fields for each friend have the correct data.</span></span>  <br/> |
|<span data-ttu-id="5fa12-123">Изображения профилей друзей, возвращенные **исоЦиалперсон:: @ Picture**</span><span class="sxs-lookup"><span data-stu-id="5fa12-123">Friends' profile pictures returned by **ISocialPerson::GetPicture**</span></span> <br/> |<span data-ttu-id="5fa12-124">Элемент Contact для каждого друга содержит изображение профиля.</span><span class="sxs-lookup"><span data-stu-id="5fa12-124">The contact item for each friend contains the profile picture.</span></span>  <br/> |

<span data-ttu-id="5fa12-125"><a name="olosc_TestingFriends_OnDemandSync"> </a></span><span class="sxs-lookup"><span data-stu-id="5fa12-125"></span></span>

## <a name="on-demand-synchronization"></a><span data-ttu-id="5fa12-126">Синхронизация по запросу</span><span class="sxs-lookup"><span data-stu-id="5fa12-126">On-demand synchronization</span></span>

<span data-ttu-id="5fa12-127">Поставщик OSC реализует **функции исоЦиалпровидер::**, которые вызывает OSC, чтобы определить, поддерживает ли поставщик синхронизацию друзей и не друзей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-127">An OSC provider implements **ISocialProvider::GetCapabilities**, which the OSC calls to determine whether the provider supports on-demand synchronization of friends and non-friends.</span></span> <span data-ttu-id="5fa12-128">Для пользователей, отображаемых в области пользователей Outlook, OSC получает и хэширует их SMTP-адреса, вызывает [ISocialSession2:: жетпеопледетаилс](isocialsession2-getpeopledetails.md)и сохраняет (в памяти) данные, возвращаемые для этих пользователей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-128">For the persons displayed in the Outlook People Pane, the OSC obtains and hashes their SMTP addresses, calls [ISocialSession2::GetPeopleDetails](isocialsession2-getpeopledetails.md), and stores (in memory) the data returned for these persons.</span></span> 
  
### <a name="determining-friends-and-non-friends"></a><span data-ttu-id="5fa12-129">Определение друзей и не друзей</span><span class="sxs-lookup"><span data-stu-id="5fa12-129">Determining friends and non-friends</span></span>

<span data-ttu-id="5fa12-130">Хэшированные SMTP-адреса, переданные в **жетпеопледетаилс** , являются ключевыми для определения того, является ли пользователь дружественным или отличным от друга.</span><span class="sxs-lookup"><span data-stu-id="5fa12-130">The hashed SMTP addresses passed to **GetPeopleDetails** are the key to determining whether a person is a friend or non-friend.</span></span> <span data-ttu-id="5fa12-131">Если пользователь не включает этот SMTP-адрес в свою учетную запись в социальных сетях или даже если этот пользователь является дружественным по другому адресу электронной почты в социальной сети, **жетпеопледетаилс** по-прежнему \*\*\*\* возвращает недружественный доступ для этого пользователя, как \*\* Фриендстатус\*\* в параметре _персонсколлектион_ .</span><span class="sxs-lookup"><span data-stu-id="5fa12-131">If a person does not include that SMTP address in his or her social network account, or even if that person is a friend by a different email address on the social network, **GetPeopleDetails** still returns **nonfriend** for that person as the **friendStatus** in the  _personsCollection_ parameter.</span></span> <span data-ttu-id="5fa12-132">Кроме того, если пользователь не является дружественным, но задается SMTP-адресом в своей учетной записи социальных сетей, возвращаемые данные включают только те, которые доступны не для дружественной функции, как это разрешено параметрами конфиденциальности этого пользователя.</span><span class="sxs-lookup"><span data-stu-id="5fa12-132">Also, for a person who is not a friend but specifies the SMTP address in his or her social network account, the data returned includes only what is available to a non-friend as allowed by the privacy settings of that person.</span></span> 
  
### <a name="creating-test-subjects-for-friends-and-non-friends"></a><span data-ttu-id="5fa12-133">Создание тестовых субъектов для друзей и не друзей</span><span class="sxs-lookup"><span data-stu-id="5fa12-133">Creating test subjects for friends and non-friends</span></span>

<span data-ttu-id="5fa12-134">Чтобы создать тестовую тему для друга, определите SMTP-адрес пользователя, который включает этот адрес в свою учетную запись социальных сетей и имеет состояние Friend с пользователь, вошедший в эту сеть.</span><span class="sxs-lookup"><span data-stu-id="5fa12-134">To create a test subject for a friend, identify the SMTP address of a person who includes that address in his or her social network account and who has a friend status with the logged-on user on that network.</span></span> <span data-ttu-id="5fa12-135">Создайте сообщение электронной почты, содержащее этот SMTP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5fa12-135">Create an email message that includes that SMTP address.</span></span> <span data-ttu-id="5fa12-136">Аналогичным образом, чтобы создать тестовую тему для недружественного, определите SMTP-адрес человека, который не является дружественным для пользователя, выполнившего вход в систему, а также его параметры конфиденциальности, чтобы разрешить не друзьям просматривать свои действия в социальных нетвор звонить.</span><span class="sxs-lookup"><span data-stu-id="5fa12-136">Similarly, to create a test subject for a non-friend, identify the SMTP address of a person who is not a friend of the logged-on user by that address, and yet who has specified in his or her privacy settings to allow non-friends to view their activities on the social network.</span></span> <span data-ttu-id="5fa12-137">Создайте сообщение электронной почты, содержащее этот SMTP-адрес.</span><span class="sxs-lookup"><span data-stu-id="5fa12-137">Create an email message that includes that SMTP address.</span></span> 
  
<span data-ttu-id="5fa12-138">В проводнике Outlook при выборе сообщения электронной почты, включающего дружественный (или не дружественный), в области люди отображаются получатели.</span><span class="sxs-lookup"><span data-stu-id="5fa12-138">In the Outlook explorer, when you select the email message that includes a friend (or non-friend), the People Pane displays the recipients.</span></span> <span data-ttu-id="5fa12-139">Выбор дружественного (или не дружественного) в области пользователей позволяет проверить, предоставляет ли поставщик сведения о лице.</span><span class="sxs-lookup"><span data-stu-id="5fa12-139">Selecting the friend (or non-friend) in the People Pane allows you to test that the provider is providing information about the person.</span></span>
  
### <a name="test-scenarios"></a><span data-ttu-id="5fa12-140">Тестовые сценарии</span><span class="sxs-lookup"><span data-stu-id="5fa12-140">Test scenarios</span></span>

<span data-ttu-id="5fa12-141">Чтобы убедиться, что поставщик предоставляет сведения о друзьях и не друзьях надлежащим образом, протестируйте следующие сценарии.</span><span class="sxs-lookup"><span data-stu-id="5fa12-141">To verify that your provider is providing information about friends and non-friends appropriately, test for the following scenarios.</span></span>
  
|<span data-ttu-id="5fa12-142">**Сценарий**</span><span class="sxs-lookup"><span data-stu-id="5fa12-142">**Scenario**</span></span>|<span data-ttu-id="5fa12-143">**Ожидаемое поведение**</span><span class="sxs-lookup"><span data-stu-id="5fa12-143">**Expected behavior**</span></span>|
|:-----|:-----|
|<span data-ttu-id="5fa12-144">Пользователь, выбранный в области пользователей, является дружественным для пользователя, вошедшего в сеть социальных сетей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-144">Person selected in the People Pane is a friend with the logged-on user on the social network.</span></span>  <br/> |<span data-ttu-id="5fa12-145">В области люди отображаются действия этого пользователя в социальной сети.</span><span class="sxs-lookup"><span data-stu-id="5fa12-145">The People Pane displays that person's activities on the social network.</span></span>  <br/> |
|<span data-ttu-id="5fa12-146">Пользователь, выбранный в области пользователей, не является дружественным для пользователя, выполнившего вход в социальной сети, но ему разрешено просматривать свои действия без друзей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-146">Person selected in the People Pane is a non-friend of the logged-on user on the social network, but has allowed his or her activities to be viewed by non-friends.</span></span>  <br/> |<span data-ttu-id="5fa12-147">В области люди отображаются действия этого пользователя в социальной сети.</span><span class="sxs-lookup"><span data-stu-id="5fa12-147">The People Pane displays that person's activities on the social network.</span></span>  <br/> |

<span data-ttu-id="5fa12-148"><a name="olosc_TestingFriends_OnDemandSync"> </a></span><span class="sxs-lookup"><span data-stu-id="5fa12-148"></span></span>

## <a name="hybrid-synchronization"></a><span data-ttu-id="5fa12-149">Гибридная синхронизация</span><span class="sxs-lookup"><span data-stu-id="5fa12-149">Hybrid synchronization</span></span>

<span data-ttu-id="5fa12-150">Если поставщик OSC поддерживает гибридную синхронизацию друзей и не друзей, OSC выполняет следующие действия:</span><span class="sxs-lookup"><span data-stu-id="5fa12-150">If an OSC provider supports hybrid synchronization of friends and non-friends, the OSC does the following:</span></span> 
  
- <span data-ttu-id="5fa12-151">OSC сохраняет информацию для друзей пользователя, выполнившего вход в систему, в папке контактов социальных сетей.</span><span class="sxs-lookup"><span data-stu-id="5fa12-151">The OSC stores information for friends of the logged-on user in the social network-specific contact folder.</span></span>
    
- <span data-ttu-id="5fa12-152">OSC получает сведения о недружественных запросах из социальной сети и сохраняет их только в памяти, но не в папке.</span><span class="sxs-lookup"><span data-stu-id="5fa12-152">The OSC retrieves information for non-friends on-demand from the social network, and stores it only in memory, but not in a folder.</span></span>
    
<span data-ttu-id="5fa12-153">Чтобы протестировать гибридную синхронизацию, следуйте рекомендациям по тестированию в разделе [кэшированИе синхронизации](#olosc_TestingFriends_CachedSync) для друзей, а также в разделе [Синхронизация по запросу](#olosc_TestingFriends_OnDemandSync) для пользователей, не являющихся друзьями.</span><span class="sxs-lookup"><span data-stu-id="5fa12-153">To test hybrid synchronization, follow the testing suggestions in the [Cached Synchronization](#olosc_TestingFriends_CachedSync) section for friends, and those in the [On-Demand Synchronization](#olosc_TestingFriends_OnDemandSync) section for non-friends.</span></span> 
  
## <a name="see-also"></a><span data-ttu-id="5fa12-154">См. также</span><span class="sxs-lookup"><span data-stu-id="5fa12-154">See also</span></span>

- [<span data-ttu-id="5fa12-155">Синхронизация друзей и действий</span><span class="sxs-lookup"><span data-stu-id="5fa12-155">Synchronizing Friends and Activities</span></span>](synchronizing-friends-and-activities.md) 
- [<span data-ttu-id="5fa12-156">XML для друзей</span><span class="sxs-lookup"><span data-stu-id="5fa12-156">XML for Friends</span></span>](xml-for-friends.md)
- [<span data-ttu-id="5fa12-157">Подготовка к выПуску поставщика OSC</span><span class="sxs-lookup"><span data-stu-id="5fa12-157">Getting Ready to Release an OSC Provider</span></span>](getting-ready-to-release-an-osc-provider.md)

