---
title: Тестирование получения данных друзей
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 109c34b6-911b-4dfc-9799-aadf47172e84
description: В этом разделе описываются тесты и сценарии для проверки того, что поставщик Outlook Social Connector (OSC) правильно возвращает данные о друзьях и не друзьях, где это применимо в зависимости от режима синхронизации, поддерживаемого поставщиком.
ms.openlocfilehash: 1c97342fd5b219b15b1f58dbc065fc268f8e81d7
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "33433670"
---
# <a name="testing-friends"></a>Тестирование получения данных друзей

В этом разделе описываются тесты и сценарии для проверки того, что поставщик Outlook Social Connector (OSC) правильно возвращает данные о друзьях и не друзьях, где это применимо в зависимости от режима синхронизации, поддерживаемого поставщиком.

<a name="olosc_TestingFriends_CachedSync"> </a>

## <a name="cached-synchronization"></a>Кэширование синхронизации

Поставщик OSC реализует [возможности исоЦиалпровидер::](isocialprovider-getcapabilities.md), которые OSC вызывает, чтобы определить, поддерживает ли поставщик кэшированную синхронизацию данных друзей. После вызова [исоЦиалперсон:: жетфриендсандколлеагуес](isocialperson-getfriendsandcolleagues.md), OSC сохраняет возвращенные данные друзей в папке "Контакты", характерной для социальной сети, в магазине Outlook пользователя, вошедшего в систему по умолчанию. Кроме того, OSC вызывает [настроенный ISocialSession::](isocialsession-getperson.md) исоЦиалперсон:: и [::](isocialperson-getpicture.md) , чтобы получить изображение профиля для каждого друга. 
  
### <a name="initiate-synchronization"></a>Запуск синхронизации

Для запуска синхронизации можно включить и использовать **Контакты синхронизации** с кнопками "Отладка" в компоненте ленты пользовательского интерфейса Microsoft Office Fluent. Дополнительные сведения о кнопках отладки OSC приведены [в разделе Отладка поставщика](debugging-a-provider.md). 
  
### <a name="test-scenarios"></a>Тестовые сценарии

ПроТестируйте следующие элементы, чтобы убедиться, что данные друзей кэшируются правильно.
  
|**Проверяемый элемент**|**Ожидаемое поведение**|
|:-----|:-----|
|Папка "Контакты"  <br/> |Папка контактов, относящаяся к социальным сетям, существует в магазине Outlook пользователя по умолчанию.  <br/> |
|Сведения о друзьях, возвращенные **исоЦиалперсон:: жетфриендсандколлеагуес** <br/> |Каждый друг соответствует контакту в папке "Контакты", соответствующей сети.  <br/> |
|Данные друзей  <br/> |Поля контактов для каждого друга имеют правильные данные.  <br/> |
|Изображения профилей друзей, возвращенные **исоЦиалперсон:: @ Picture** <br/> |Элемент Contact для каждого друга содержит изображение профиля.  <br/> |

<a name="olosc_TestingFriends_OnDemandSync"> </a>

## <a name="on-demand-synchronization"></a>Синхронизация по запросу

Поставщик OSC реализует **функции исоЦиалпровидер::**, которые вызывает OSC, чтобы определить, поддерживает ли поставщик синхронизацию друзей и не друзей. Для пользователей, отображаемых в области пользователей Outlook, OSC получает и хэширует их SMTP-адреса, вызывает [ISocialSession2:: жетпеопледетаилс](isocialsession2-getpeopledetails.md)и сохраняет (в памяти) данные, возвращаемые для этих пользователей. 
  
### <a name="determining-friends-and-non-friends"></a>Определение друзей и не друзей

Хэшированные SMTP-адреса, переданные в **жетпеопледетаилс** , являются ключевыми для определения того, является ли пользователь дружественным или отличным от друга. Если пользователь не включает этот SMTP-адрес в свою учетную запись в социальных сетях или даже если этот пользователь является дружественным по другому адресу электронной почты в социальной сети, **жетпеопледетаилс** по-прежнему **** возвращает недружественный доступ для этого пользователя, как ** Фриендстатус** в параметре _персонсколлектион_ . Кроме того, если пользователь не является дружественным, но задается SMTP-адресом в своей учетной записи социальных сетей, возвращаемые данные включают только те, которые доступны не для дружественной функции, как это разрешено параметрами конфиденциальности этого пользователя. 
  
### <a name="creating-test-subjects-for-friends-and-non-friends"></a>Создание тестовых субъектов для друзей и не друзей

Чтобы создать тестовую тему для друга, определите SMTP-адрес пользователя, который включает этот адрес в свою учетную запись социальных сетей и имеет состояние Friend с пользователь, вошедший в эту сеть. Создайте сообщение электронной почты, содержащее этот SMTP-адрес. Аналогичным образом, чтобы создать тестовую тему для недружественного, определите SMTP-адрес человека, который не является дружественным для пользователя, выполнившего вход в систему, а также его параметры конфиденциальности, чтобы разрешить не друзьям просматривать свои действия в социальных нетвор звонить. Создайте сообщение электронной почты, содержащее этот SMTP-адрес. 
  
В проводнике Outlook при выборе сообщения электронной почты, включающего дружественный (или не дружественный), в области люди отображаются получатели. Выбор дружественного (или не дружественного) в области пользователей позволяет проверить, предоставляет ли поставщик сведения о лице.
  
### <a name="test-scenarios"></a>Тестовые сценарии

Чтобы убедиться, что поставщик предоставляет сведения о друзьях и не друзьях надлежащим образом, протестируйте следующие сценарии.
  
|**Сценарий**|**Ожидаемое поведение**|
|:-----|:-----|
|Пользователь, выбранный в области пользователей, является дружественным для пользователя, вошедшего в сеть социальных сетей.  <br/> |В области люди отображаются действия этого пользователя в социальной сети.  <br/> |
|Пользователь, выбранный в области пользователей, не является дружественным для пользователя, выполнившего вход в социальной сети, но ему разрешено просматривать свои действия без друзей.  <br/> |В области люди отображаются действия этого пользователя в социальной сети.  <br/> |

<a name="olosc_TestingFriends_OnDemandSync"> </a>

## <a name="hybrid-synchronization"></a>Гибридная синхронизация

Если поставщик OSC поддерживает гибридную синхронизацию друзей и не друзей, OSC выполняет следующие действия: 
  
- OSC сохраняет информацию для друзей пользователя, выполнившего вход в систему, в папке контактов социальных сетей.
    
- OSC получает сведения о недружественных запросах из социальной сети и сохраняет их только в памяти, но не в папке.
    
Чтобы протестировать гибридную синхронизацию, следуйте рекомендациям по тестированию в разделе [кэшированИе синхронизации](#olosc_TestingFriends_CachedSync) для друзей, а также в разделе [Синхронизация по запросу](#olosc_TestingFriends_OnDemandSync) для пользователей, не являющихся друзьями. 
  
## <a name="see-also"></a>См. также

- [Синхронизация друзей и действий](synchronizing-friends-and-activities.md) 
- [XML для друзей](xml-for-friends.md)
- [Подготовка к выПуску поставщика OSC](getting-ready-to-release-an-osc-provider.md)

