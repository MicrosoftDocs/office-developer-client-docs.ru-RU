---
title: Тестирование получения данных друзей
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 109c34b6-911b-4dfc-9799-aadf47172e84
description: В этом разделе описываются тесты и сценарии, чтобы убедиться, что поставщик Outlook Social Connector (OSC) надлежащим образом возвращает данные друзей и не друзей, если это применимо, в зависимости от режима синхронизации, поддерживаемого поставщиком.
ms.openlocfilehash: 1c97342fd5b219b15b1f58dbc065fc268f8e81d7
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "33433670"
---
# <a name="testing-friends"></a>Тестирование получения данных друзей

В этом разделе описываются тесты и сценарии, чтобы убедиться, что поставщик Outlook Social Connector (OSC) надлежащим образом возвращает данные друзей и не друзей, если это применимо, в зависимости от режима синхронизации, поддерживаемого поставщиком.

<a name="olosc_TestingFriends_CachedSync"> </a>

## <a name="cached-synchronization"></a>Синхронизация кэширования

Поставщик OSC реализует [ISocialProvider::GetCapabilities](isocialprovider-getcapabilities.md), который osC вызывает, чтобы определить, поддерживает ли поставщик кэширование синхронизации данных друзей. После вызова [ISocialPerson::GetFriendsAndColleagues,](isocialperson-getfriendsandcolleagues.md)OSC хранит данные возвращенных друзей в папке контактов, определенной социальной сети в хранилище по умолчанию Outlook пользователя. OsC также вызывает [ISocialSession::GetPerson](isocialsession-getperson.md) и [ISocialPerson:::GetPicture](isocialperson-getpicture.md) для получения изображения профиля для каждого друга. 
  
### <a name="initiate-synchronization"></a>Инициировать синхронизацию

Чтобы инициировать синхронизацию, можно включить и  использовать кнопку синхронизации отключения в компоненте ленты пользовательского интерфейса Microsoft Office Fluent. Дополнительные сведения о кнопках отладки OSC см. в [рубке Отладка поставщика.](debugging-a-provider.md) 
  
### <a name="test-scenarios"></a>Тестовые сценарии

Проверьте следующие элементы, чтобы убедиться, что данные друзей кэшировать правильно.
  
|**Элемент для тестирования**|**Ожидаемое поведение**|
|:-----|:-----|
|Папка контактов  <br/> |Папка контактов для социальных сетей существует в хранилище по умолчанию Outlook пользователя.  <br/> |
|Данные друзей, возвращенные **ISocialPerson::GetFriendsAndColleagues** <br/> |Каждый друг соответствует контакту в папке контактов, определенной для сети.  <br/> |
|Данные друзей  <br/> |Поля контактов для каждого друга имеют правильные данные.  <br/> |
|Фотографии профилей друзей, возвращенные **ISocialPerson::GetPicture** <br/> |Элемент контакта для каждого друга содержит изображение профиля.  <br/> |

<a name="olosc_TestingFriends_OnDemandSync"> </a>

## <a name="on-demand-synchronization"></a>Синхронизация по запросу

Поставщик OSC реализует **ISocialProvider::GetCapabilities,** который osC вызывает, чтобы определить, поддерживает ли поставщик синхронизацию друзей и не-друзей по запросу. Для лиц, отображаемых в области Outlook people, OSC получает и хеширует их SMTP-адреса, вызывает [ISocialSession2::GetPeopleDetails](isocialsession2-getpeopledetails.md)и сохраняет (в памяти) данные, возвращенные для этих лиц. 
  
### <a name="determining-friends-and-non-friends"></a>Определение друзей и не друзей

Схващенные SMTP-адреса, переданные **GetPeopleDetails,** являются ключом к определению того, является ли человек другом или не другом. Если человек не включает этот SMTP-адрес в свою учетную запись в социальной сети или даже если он является другом по другому адресу электронной почты в социальной сети, **GetPeopleDetails** по-прежнему возвращает недружественный для этого человека в качестве **friendStatus** в _параметре personsCollection._  Кроме того, для человека, который не является другом, но указывает адрес SMTP в своей учетной записи в социальной сети, возвращенные данные включают только то, что доступно для не-друга, как это разрешено в параметрах конфиденциальности этого человека. 
  
### <a name="creating-test-subjects-for-friends-and-non-friends"></a>Создание испытуемых для друзей и не друзей

Чтобы создать тестовый объект для друга, определите SMTP-адрес пользователя, который включает этот адрес в свою учетную запись в социальной сети и имеет статус друга с зарегистрированным пользователем в этой сети. Создайте сообщение электронной почты, которое включает адрес SMTP. Аналогичным образом, чтобы создать тестовый объект для не-друга, определите SMTP-адрес пользователя, который не является другом зарегистрированного пользователя по этому адресу и тем не менее указал в параметрах конфиденциальности, чтобы позволить не-друзьям просматривать их действия в социальной сети. Создайте сообщение электронной почты, которое включает адрес SMTP. 
  
В обозревателе Outlook, когда вы выбираете сообщение электронной почты, в которое входит друг (или не-друг), в области people отображаются получатели. Выбор друга (или не-друга) в области Людей позволяет проверить, предоставляет ли поставщик сведения о человеке.
  
### <a name="test-scenarios"></a>Тестовые сценарии

Чтобы убедиться, что поставщик предоставляет сведения о друзьях и не друзьях надлежащим образом, проверьте следующие сценарии.
  
|**Сценарий**|**Ожидаемое поведение**|
|:-----|:-----|
|Пользователь, выбранный в области People, является другом с зарегистрированным пользователем в социальной сети.  <br/> |В области "Люди" отображаются действия этого человека в социальной сети.  <br/> |
|Пользователь, выбранный в области People, не является другом зарегистрированного пользователя в социальной сети, но позволяет просматривать его действия не-друзьями.  <br/> |В области "Люди" отображаются действия этого человека в социальной сети.  <br/> |

<a name="olosc_TestingFriends_OnDemandSync"> </a>

## <a name="hybrid-synchronization"></a>Гибридная синхронизация

Если поставщик OSC поддерживает гибридную синхронизацию друзей и не друзей, osc делает следующее: 
  
- OsC хранит сведения для друзей зарегистрированного пользователя в папке контактов, определенной для социальных сетей.
    
- OsC извлекает информацию для не-друзей по требованию из социальной сети и хранит ее только в памяти, но не в папке.
    
Чтобы протестировать гибридную синхронизацию, выполните рекомендации по тестированию в разделе [](#olosc_TestingFriends_OnDemandSync) Синхронизация кэширования для друзей и предложения в разделе Синхронизация по запросу для не-друзей. [](#olosc_TestingFriends_CachedSync) 
  
## <a name="see-also"></a>См. также

- [Синхронизация друзей и действий](synchronizing-friends-and-activities.md) 
- [XML для друзей](xml-for-friends.md)
- [Получение готовности к выпуску поставщика OSC](getting-ready-to-release-an-osc-provider.md)

