---
title: Сведения об API репликации
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
localization_priority: Normal
ms.assetid: 5133045a-b1e2-7728-5cd5-6d85eb940cf9
description: '���� ���������� ���������: 25 ���� 2012 �.'
ms.openlocfilehash: 532c01d6885e72753067b2d30bf2bd5f88207176
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32329521"
---
# <a name="about-the-replication-api"></a>Сведения об API репликации

  
  
**Относится к**: Outlook 2013 | Outlook 2016 
  
API репликации предоставляет функциональные возможности для поставщика хранилища сообщений MAPI, чтобы синхронизировать элементы Microsoft Outlook 2013 или Microsoft Outlook 2010 между сервером и локальным хранилищем на основе PST, созданным для этого поставщика. 
  
> [!NOTE]
> Поставщик хранилища сообщений MAPI должен реализовать API репликации в соответствии с инструкциями, приведенными в разделе [о конечном автомате репликации](about-the-replication-state-machine.md). Поставщик должен использовать API только в личном хранилище, созданном для самого себя, а не в личных хранилищах, созданных для других поставщиков, так как личные хранилища, созданные для других поставщиков, могут уже настроить собственные механизмы репликации с соответствующим сервером. Например, файл автономных папок (OST) поддерживает собственное отношение репликации с сервером Microsoft Exchange. 
  
Чтобы использовать API репликации, поставщик хранилища сообщений MAPI должен сначала открыть и обернуть локальное хранилище на основе PST, вызвав **[нстсервицеентри](nstserviceentry.md)**. Затем поставщик может использовать основные интерфейсы API- **[иосткс](iostxiunknown.md)** и **[ипсткс](ipstxiunknown.md)** для выполнения репликации. **Ипсткс** предоставляется с помощью запросов к [IMsgStore: IMAPIProp](imsgstoreimapiprop.md), а **Иосткс** предоставляется **[ипсткс:: жетсинкобжект](ipstx-getsyncobject.md)**. 
  
## <a name="the-iostx-interface"></a>Интерфейс ИОСТКС

Интерфейс **иосткс** — это основной интерфейс, который выполняет синхронизацию в API репликации. **Иосткс** перемещает локальное хранилище через ряд состояний, получая сведения об изменениях в локальном хранилище, а также информирует локальное хранилище об изменениях на сервере. API репликации также определяет многие структуры данных, которые поддерживают синхронизацию. 
  
Поставщик магазина, как клиент для этого API, использует API репликации для переноса локального хранилища и перемещения по этим состояниям, отменяя изменения в локальном хранилище (например, изменения в иерархии папок или добавления новых элементов) на сервер, а также получая информацию об изменениях на сервере и предоставляя эту информацию в интерфейс **иосткс** . Интерфейс **иосткс** использует добавочную синхронизацию изменений (ICS), предоставляемую Microsoft Exchange Server. Дополнительные сведения о ICS приведены в статье [условия оценки ICS](https://msdn.microsoft.com/library/aa579252%28EXCHG.80%29.aspx). С помощью **иосткс**клиент использует ICS для отслеживания и синхронизации добавочных изменений в иерархии или контенте в локальном хранилище. 
  
## <a name="the-ipstx-interface"></a>Интерфейс ИПСТКС

 **Ипсткс** и пять других интерфейсов * * ипсткс *n* * *, наследуемых от **ипсткс** , предоставляют вспомогательные функции, которые можно использовать при репликации через интерфейс **иосткс** . Например, **[ипсткс:: емулатеспулер](ipstx-emulatespooler.md)** позволяет сделать локальное хранилище эмулятором диспетчера протокола Outlook для постановки в очередь исходящих сообщений на сервер. 
  
Дополнительные сведения о переходе между состояниями во время репликации представлены [на компьютере с состоянием репликации](about-the-replication-state-machine.md).
  
## <a name="the-replication-api"></a>API репликации

API репликации предоставляет следующие дефинтионс, типы данных и интерфейсы. Пример реализации поставщика услуг хранения для файлов личных папок с оболочкой (PST) представлен [в примере примера поставщика упакованного PST-хранилища](about-the-sample-wrapped-pst-store-provider.md).
  
Определения
  
- [Константы для API репликации](mapi-constants.md)
    
Обязанностей
  
- **[NSTServiceEntry](nstserviceentry.md)**
    
Типы данных:
  
- **[DNHIER](dnhier.md)**
    
- **[DNTBL](dntbl.md)**
    
- **[DNTBLE](dntble.md)**
    
- **[FEID](feid.md)**
    
- **[HDRSYNC](hdrsync.md)**
    
- **[LTID](ltid.md)**
    
- **[MEID](meid.md)**
    
- **[OLFI](olfi.md)**
    
- **[SKEY](skey.md)**
    
- **[Синхр](sync.md)**
    
- **[SYNCCONT](synccont.md)**
    
- **[SYNCSTATE](syncstate.md)**
    
- **[UPDEL](updel.md)**
    
- **[UPDELE](updele.md)**
    
- **[UPFLD](upfld.md)**
    
- **[UPHIER](uphier.md)**
    
- **[UPMOV](upmov.md)**
    
- **[UPMSG](upmsg.md)**
    
- **[UPREAD](upread.md)**
    
- **[UPREADE](upreade.md)**
    
- **[UPTBL](uptbl.md)**
    
- **[UPTBLE](uptble.md)**
    
Интерфейс
  
- **[иосткс](iostxiunknown.md)**
    
- **[ипсткс](ipstxiunknown.md)**
    
- **[IPSTX2](ipstx2ipstx.md)**
    
- **[IPSTX3](ipstx3ipstx2.md)**
    
- **[IPSTX4](ipstx4ipstx3.md)**
    
- **[IPSTX5](ipstx5ipstx4.md)**
    
- **[IPSTX6](ipstx6ipstx5.md)**
    

