---
title: Об индексировании хранилищ на основе уведомлений
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
localization_priority: Normal
ms.assetid: b3685890-117c-9acc-e19f-cf22a349a088
description: 'Дата последнего изменения: 23 июля 2011 г.'
ms.openlocfilehash: 3dd551dd0c1ea229381e5dd01c5cf6fa04790c30
ms.sourcegitcommit: 8657170d071f9bcf680aba50b9c07f2a4fb82283
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/28/2019
ms.locfileid: "33409176"
---
# <a name="about-notification-based-store-indexing"></a>Об индексировании хранилищ на основе уведомлений

  
  
**Относится к**: Outlook 2013 | Outlook 2016 
  
Поставщик хранилища MAPI может указать, будет ли обработчик протокола MAPI выполнять обход и индексирование сообщений в хранилище, а также указывает, отправляет ли хранилище уведомления индексатору при наличии сообщений для индексирования. Последнее называется индексированием на основе уведомлений, а хранилище, которое поддерживает индексирование на основе уведомлений, называется хранилищем пушер.
  
Поставщик хранилища, поддерживающий индексирование на основе уведомлений, задает флаг **STORE_PUSHER_OK** в свойстве **[PR_STORE_SUPPORT_MASK](pidtagstoresupportmask-canonical-property.md)** . Обработчик протокола MAPI или клиент могут получить свойство **PR_STORE_SUPPORT_MASK** , чтобы определить характеристики хранилища. 
  
При наличии вложения, папки или сообщения для индексирования поставщик услуг хранения создает URL-адрес, определяющий индексируемый объект, и отправляет его индексатору. Этот URL-адрес MAPI кодируется в Юникоде и должен однозначно определять объект для обработчика протокола MAPI. Для получения дополнительных сведений об URL-адресах MAPI ознакомьтесь [с разпрограммным индексированием для индексирования на основе уведомлений](about-mapi-urls-for-notification-based-indexing.md).
  
Так как индексатор не всегда может индексировать все до завершения работы в хранилище пушер, в хранилище пушер должно сохраняться, что нужно. Когда поставщик хранилища отправляет уведомление об объекте, который необходимо индексировать, он указывает тип уведомления **фневиндексинг** в элементе **улевенттипе** структуры **[уведомлений](notification.md)** . Элемент **info** структуры **NOTIFICATION** содержит структуру **[EXTENDED_NOTIFICATION](extended_notification.md)**. Поставщик услуг хранения идентифицирует процесс в свойстве **[PR_SEARCH_OWNER_ID](pidtagsearchownerid-canonical-property.md)** . Он также определяет процесс в структуре [INDEX_SEARCH_PUSHER_PROCESS](index_search_pusher_process.md) и передает эту информацию в составе члена **пбевентпараметерс** структуры **EXTENDED_NOTIFICATION** . Если процесс завершается или завершается со сбоями, обработчик протокола MAPI сможет сразу обнаружить и остановить индексирование хранилища пушер. 
  
## <a name="see-also"></a>См. также



[Сведения об API хранилищ](about-the-store-api.md)
  
[Константы MAPI](mapi-constants.md)

