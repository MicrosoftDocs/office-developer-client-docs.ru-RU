---
title: Обязанности по именованию клиентов
manager: soliver
ms.date: 03/09/2015
ms.audience: Developer
localization_priority: Normal
api_type:
- COM
ms.assetid: dbb6ba5f-18c8-426f-9f50-ce6f2fd1dc5b
description: 'Дата последнего изменения: 9 марта 2015 г.'
ms.openlocfilehash: 808c7abf3d29872a8c5095fdc6dc39b2107a8993
ms.sourcegitcommit: 8fe462c32b91c87911942c188f3445e85a54137c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/23/2019
ms.locfileid: "32335142"
---
# <a name="client-naming-responsibilities"></a>Обязанности по именованию клиентов

  
  
**Область применения**: Outlook 2013 | Outlook 2016 
  
Клиенты должны следовать соглашению об именовании для свойств, которые необходимо преобразовать с помощью шлюза. Все свойства, подлежащего преобразованию, должны создаваться в виде именованных свойств в одном из пяти наборов свойств, предназначенных для хранения свойств сопоставляемые со:
  
ПС_РАУТИНГ_ЕМАИЛ_АДДРЕССЕС
  
ПС_РАУТИНГ_АДДРТИПЕ
  
ПС_РАУТИНГ_ДИСПЛАЙ_НАМЕ
  
ПС_РАУТИНГ_ЕНТРИД
  
ПС_РАУТИНГ_СЕАРЧ_КЭЙ
  
Свойствам адресации, связанным с одним пользователем, необходимо присвоить одно и то же имя. Шлюзы основываются на таком соглашении об именовании, которое позволяет им сопоставлять адреса с правильным типом адреса. Для синтаксического анализа адресов сопоставление между адресом и типом адреса должно быть точным.
  
Именованные свойства MAPI представлены с помощью структуры данных **мапинамеид** , которая указывает, что имя свойства может быть строкой юникода или 32 — битным целым числом. Дополнительные сведения см. в разделе [мапинамеид](mapinameid.md). Именование типа Integer рекомендуется для групп адресов, так как это простой способ различать наборы свойств сопоставляемые со, и он может легко служить в качестве индекса для пользователя. Альтернативой использованию целых чисел является назначение одной строки в качестве имени для всех пяти свойств сопоставляемые со пользователя. Если требуется сопоставление только одному пользователю, назначение строки допускается. Однако при наличии нескольких пользователей лучше использовать целочисленное именование. Имя, указывающее, является ли оно числовым или строковым, должно храниться в свойстве, характерном для класса сообщения, или в свойстве, принадлежащем к набору свойств, определенному клиентским приложением. 
  
> [!NOTE]
> Не следует преобразовывать имена целых чисел в строки, например "route_recipient_1" и "route_recipient_2". Это не требуется. 
  
Чтобы продемонстрировать, как работает это соглашение об именовании, рассмотрим приложение маршрутизации, которое отправляет сообщение каждому участнику группы из четырех человек. Когда один участник получает сообщение, он должен ответить на него, прежде чем его можно будет отправить вместе с скомпилированными ответами на следующего участника. Исходное сообщение содержит список получателей с одной записью: первый участник команды. В сообщении внедрено свойство Gateway — сопоставляемые со для других трех участников группы. Каждый участник имеет пять основных свойств пользователя, находящихся в наборах свойств Gateway – сопоставляемые со, которым назначен уникальный номер в качестве имени. 
  
В следующей таблице показаны параметры для каждого набора свойств шлюза-сопоставляемые со, которые хранятся у трех оставшихся участников группы, которым сообщение маршрутизируется, когда первый участник группы завершает работу.
  
|**Property Set**|**Второй участник <br/> команды**|**Третий участник <br/> команды**|**Четвертый участник <br/> команды**|
|:-----|:-----|:-----|:-----|
|ПС_РАУТИНГ_ЕМАИЛ_АДДРЕССЕС  <br/> |Адрес = 0  <br/> |Адрес = 1  <br/> |Адрес = 2  <br/> |
|ПС_РАУТИНГ_АДДРТИПЕ  <br/> |Тип адреса = 0  <br/> |Тип адреса = 1  <br/> |Тип адреса = 2  <br/> |
|ПС_РАУТИНГ_ДИСПЛАЙ_НАМЕ  <br/> |Отображаемое имя = 0  <br/> |Отображаемое имя = 1  <br/> |Отображаемое имя = 2  <br/> |
|ПС_РАУТИНГ_ЕНТРИД  <br/> |Идентификатор записи = 0  <br/> |Идентификатор записи = 1  <br/> |Идентификатор записи = 2  <br/> |
|ПС_РАУТИНГ_СЕАРЧ_КЭЙ  <br/> |Ключ поиска = 0  <br/> |Ключ поиска = 1  <br/> |Ключ поиска = 2  <br/> |
   
Клиенты, использующие ключи поиска сопоставляемые со в качестве ссылок на другие свойства сообщений, должны знать, что другие свойства сообщения не будут преобразованы, если они не помещаются в один из этих наборов свойств сопоставляемые со. Если сообщение с несопоставленными ссылками на сопоставленные ключи поиска отправляется в назначение в другом домене обмена сообщениями, эти ссылки являются недопустимыми. Чтобы обеспечить синхронизацию этих свойств с ключами поиска, можно назначить им имена строк в наборе свойств ПС_РАУТИНГ_СЕАРЧ_КЭЙ, которые не мешают именам, заданным для любого из основных свойств сопоставляемые со. Например, предположим, что клиент должен передать свойство, содержащее ключ поиска для последнего пользователя в длинном списке маршрутизации. Клиент может создать именованное свойство в наборе свойств ПС_РАУТИНГ_СЕАРЧ_КЭЙ с именем "ласт_сеарч_кэй". Так как он хранится в наборе свойств сопоставляемые со, свойство "ласт_сеарч_кэй" переводится вместе с остальными свойствами шлюза — сопоставляемые со.
  

