---
title: OLFI
manager: soliver
ms.date: 11/16/2014
ms.audience: Developer
ms.topic: reference
ms.prod: office-online-server
localization_priority: Normal
ms.assetid: 44bfaadf-36f9-bd8e-6158-646533f6849e
description: '���� ���������� ���������: 23 ���� 2011 �.'
ms.openlocfilehash: ff23472254df2bd9d2195c7cf2c4258b856ec430
ms.sourcegitcommit: 9d60cd82b5413446e5bc8ace2cd689f683fb41a7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/11/2018
ms.locfileid: "19810056"
---
# <a name="olfi"></a>OLFI

  
  
**Применимо к**: Outlook 
  
Очереди долгосрочного структур идентификатор используется файл личных папок (PST) поставщика хранилища для присваивается идентификатор записи для нового сообщения или папки в автономном режиме.
  
## <a name="quick-info"></a>Краткие сведения

```cpp
typedef struct { 
    ULONG    ulVersion; 
    MAPIUID  muidReserved; 
    ULONG    ulReserved; 
    DWORD    dwAlloc; 
    DWORD    dwNextAlloc; 
    LTID     ltidAlloc; 
    LTID     ltidNextAlloc; 
} OLFI, *POLFI;
```

## <a name="members"></a>Элементы

 _ulVersion_
  
- Номер версии для структуры. 
    
 _muidReserved_
  
- Этот член зарезервирован для внутреннего использования Outlook и не поддерживается.
    
 _ulReserved_
  
- Этот член зарезервирован для внутреннего использования Outlook и не поддерживается.
    
 _dwAlloc_
  
- Число записей, которые доступны для выделения. Эти записи совместно использовать же глобальный уникальный идентификатор (GUID).
    
 _dwNextAlloc_
  
- Число записей, которые доступны в Далее для выделения. Эти записи имеют одинаковый идентификатор GUID.
    
 _ltidAlloc_
  
- Долгосрочные идентификатор структуры, **[LTID](ltid.md)**, идентифицирующий запись в настоящее время недоступен для выделения. Долгосрочные структура идентификатор содержит идентификатор GUID и индекса, идентифицирующий объекта в хранилище. Совместная работа GUID и индекса можно было создавать уникальный идентификатор записи для объекта. 
    
 _ltidNextAlloc_
  
- Определение следующего доступные записи долгосрочного структура идентификатора.
    
## <a name="remarks"></a>Замечания

Идентификатор записи — это идентификатор операции 4-байтных MAPI для папки или сообщения. Для получения дополнительных сведений см [ENTRYID](http://msdn.microsoft.com/en-us/library/ms836424).
  
Когда поставщик хранения PST присваивает идентификатор записи в новый объект, сначала ему идентификатор GUID, идентифицирующий сервер и индекса, который определяет объект в хранилище. Несмотря на то, что идентификатор GUID не является уникальным для всех идентификаторы, GUID и индекса в сочетании предоставить уникальные запись. Эта пара GUID и индекса отслеживается долгосрочного структуры кода **LTID**которого является частью структуры **OLFI** . 
  
Поставщик хранения PST-файлов не сохраняются физически в **OLFI** структуру **LTID** для каждой пары GUID индекса. Отслеживает структуры один **LTID** , *ltidAlloc* , в настоящее время первого доступные пары GUID индекса; count, *dwAlloc* , из числа доступных записей, общий доступ к этой же GUID; и второй структуры **LTID** , *ltidNextAlloc* , для следующего доступные пары GUID индекса, свой идентификатор GUID. PST хранения поставщиком структуры **OLFI** для отслеживания идентификаторов GUID и индексы, раздать. Виртуальный уровне поставщик поддерживает резерв числа структур **LTID** , готовые выделить.  *dwAlloc* содержит счетчик доступных структур **LTID** . 
  
Запросы на идентификаторы поступают в блоках. Если запрос для блока, поставщика хранилища PST-файлов проверяет наличие достаточных резерв в наличии путем сравнения запрошенный размер с *dwAlloc* . Если имеется достаточно резерв, возвращает идентификатор GUID и индекса в *ltidAlloc* для выделения. Уменьшение *dwAlloc* на запрошенный размер и увеличивает запрошенный размер индекса в *ltidAlloc* . Это подготовит поставщика хранилища PST-файлов для выделения *ltidAlloc* при следующем запросе для другого блока идентификаторы. Обратите внимание на то, что идентификатор GUID остаются неизменными для следующего запроса. 
  
Если размер запроса превышает *dwAlloc* , поставщик хранения PST пытается использовать, что она имеет далее в запасе в соответствии с *dwNextAlloc* и *ltidNextAlloc* . Копирует *dwNextAlloc* и *ltidNextAlloc* *dwAlloc* и *ltidAlloc* соответственно и задает *dwNextAlloc* и *ltidNextAlloc* значение NULL. 
  
Поставщик, который является оболочкой поставщика хранилища PST периодически должен проверить, *ltidNextAlloc* ли значения NULL. Если он установлен, поставщик должен внесите в нее новый GUID и Сброс *dwNextAlloc* таким образом, могут быть выделены дополнительные записи идентификаторы. 
  
## <a name="see-also"></a>См. также



[О репликации API](about-the-replication-api.md)
  
[О репликации конечного автомата](about-the-replication-state-machine.md)
  
[LTID](ltid.md)

